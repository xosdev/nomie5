var el=Object.defineProperty,tl=Object.defineProperties;var ll=Object.getOwnPropertyDescriptors;var Ae=Object.getOwnPropertySymbols;var rl=Object.prototype.hasOwnProperty,nl=Object.prototype.propertyIsEnumerable;var Re=(a,t,l)=>t in a?el(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,Fe=(a,t)=>{for(var l in t||(t={}))rl.call(t,l)&&Re(a,l,t[l]);if(Ae)for(var l of Ae(t))nl.call(t,l)&&Re(a,l,t[l]);return a},Pe=(a,t)=>tl(a,ll(t));var Z=(a,t,l)=>new Promise((e,r)=>{var n=o=>{try{i(l.next(o))}catch(f){r(f)}},s=o=>{try{i(l.throw(o))}catch(f){r(f)}},i=o=>o.done?e(o.value):Promise.resolve(o.value).then(n,s);i((l=l.apply(a,t)).next())});import{d as Y,S as x,y as ee,z as te,cg as sl,a1 as W,O as _,ch as al,ag as C,I as c,bw as T,bx as z,B as E,A as j,F as I,H as D,C as L,J as y,K as Ve,P as V,bu as ye,X as M,Y as $,Z as U,T as m,a9 as b,aa as v,ab as k,ad as w,by as K,a2 as ve,bz as De,bA as il,a3 as Ye,Q as ke,ci as Oe,am as Be,an as He,cj as Xe,ck as ol,cl as Ze,a7 as ie,a8 as oe,ac as fe,bO as fl,ae as Je,af as ul,bB as cl,al as ml}from"./vendor.36439469.js";import{x as Ke,o as re,E as dl,F as $l,d as q,U as Te,h as de,n as ze,M as _l,a as Se,I as le,G as pl,H as gl,N as hl,v as G,J as We,g as ue,K as Qe,O as bl,k as ge,W as vl,Q as kl,j as ce,r as Ge,R as xe,c as wl,L as yl,V as Dl,y as et,b as El,w as we,X as tt,Y as Il,Z as he,D as lt,t as Nl,_ as Vl,T as Ol,f as Tl,$ as zl,a0 as Sl,a1 as Wl,a2 as Cl,m as rt,S as jl,a3 as Ll}from"./index.35142b07.js";/* empty css                                 */import{S as ql}from"./swipeable.489d57ab.js";function Ml(a,t){let l=[],e={};t.forEach(s=>{let i=s.trackers.find(o=>o.id==a);if(i){let f=Y(s.end).format("YYYY-MM-DD");e[f]=e[f]||[],(!e[f].end||e[f].end>s.end)&&(e[f].end=s.end);let u=Y(s.end).subtract(i.value,"second").toDate().getTime();(!e[f].start||e[f].start>u)&&(e[f].start=u)}else console.error("Tracker not found?",s)}),l=Object.keys(e).map(s=>Pe(Fe({},e[s]),{date:s,hours:Ke.round(Y(e[s].end).diff(Y(e[s].start),"minute")/60,100),startTimeFormatted:Y(e[s].start).format("h:mm a"),endTimeFormatted:Y(e[s].end).format("h:mm a"),startTime:Y(e[s].start).format("HHmm"),endTime:Y(e[s].end).format("HHmm"),percent:0}));let r=l.map(s=>s.hours),n=Ke.percentile(r);return l=l.map((s,i)=>(s.percent=n[i],s)),l}function nt(a,t,l){const e=a.slice();return e[4]=t[l],e}function Ul(a){let t,l=a[7].message+"",e;return{c(){t=T("error"),e=T(l)},l(r){t=z(r,"error"),e=z(r,l)},m(r,n){_(r,t,n),_(r,e,n)},p:C,d(r){r&&c(t),r&&c(e)}}}function Al(a){let t,l,e=a[0],r=[];for(let n=0;n<e.length;n+=1)r[n]=st(nt(a,e,n));return{c(){t=E("div"),l=E("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){t=I(n,"DIV",{class:!0});var s=D(t);l=I(s,"DIV",{class:!0});var i=D(l);for(let o=0;o<r.length;o+=1)r[o].l(i);i.forEach(c),s.forEach(c),this.h()},h(){y(l,"class","days svelte-rtowbd"),y(t,"class","time-graph svelte-rtowbd")},m(n,s){_(n,t,s),V(t,l);for(let i=0;i<r.length;i+=1)r[i].m(l,null)},p(n,s){if(s&1){e=n[0];let i;for(i=0;i<e.length;i+=1){const o=nt(n,e,i);r[i]?r[i].p(o,s):(r[i]=st(o),r[i].c(),r[i].m(l,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=e.length}},d(n){n&&c(t),ye(r,n)}}}function st(a){let t,l,e;return{c(){t=E("div"),l=E("div"),e=j(),this.h()},l(r){t=I(r,"DIV",{class:!0});var n=D(t);l=I(n,"DIV",{class:!0,style:!0}),D(l).forEach(c),e=L(n),n.forEach(c),this.h()},h(){y(l,"class","bar svelte-rtowbd"),Ve(l,"height",a[4].percent+"%"),y(t,"class","day svelte-rtowbd")},m(r,n){_(r,t,n),V(t,l),V(t,e)},p(r,n){n&1&&Ve(l,"height",r[4].percent+"%")},d(r){r&&c(t)}}}function Rl(a){let t;return{c(){t=T("Loading...")},l(l){t=z(l,"Loading...")},m(l,e){_(l,t,e)},p:C,d(l){l&&c(t)}}}function Fl(a){let t,l={ctx:a,current:null,token:null,hasCatch:!0,pending:Rl,then:Al,catch:Ul,value:3,error:7};return sl(a[1](),l),{c(){t=W(),l.block.c()},l(e){t=W(),l.block.l(e)},m(e,r){_(e,t,r),l.block.m(e,l.anchor=r),l.mount=()=>t.parentNode,l.anchor=t},p(e,[r]){a=e,al(l,a,r)},i:C,o:C,d(e){e&&c(t),l.block.d(e),l.token=null,l=null}}}function Pl(a,t,l){let{widget:e}=t,r=[];function n(){return Z(this,null,function*(){l(0,r=Ml(e.element.id,e.logs))})}return a.$$set=s=>{"widget"in s&&l(2,e=s.widget)},[r,n,e]}class Yl extends x{constructor(t){super();ee(this,t,Pl,Fl,te,{widget:2})}}function at(a){let t,l,e,r,n;const s=[Hl,Bl],i=[];function o(f,u){return f[0].lastUsed?0:1}return e=o(a),r=i[e]=s[e](a),{c(){t=E("div"),l=E("div"),r.c(),this.h()},l(f){t=I(f,"DIV",{class:!0});var u=D(t);l=I(u,"DIV",{class:!0});var d=D(l);r.l(d),d.forEach(c),u.forEach(c),this.h()},h(){y(l,"class","current"),y(t,"class","value last-used")},m(f,u){_(f,t,u),V(t,l),i[e].m(l,null),n=!0},p(f,u){let d=e;e=o(f),e===d?i[e].p(f,u):(M(),$(i[d],1,1,()=>{i[d]=null}),U(),r=i[e],r?r.p(f,u):(r=i[e]=s[e](f),r.c()),m(r,1),r.m(l,null))},i(f){n||(m(r),n=!0)},o(f){$(r),n=!1},d(f){f&&c(t),i[e].d()}}}function Bl(a){let t,l;return t=new re({props:{size:"md",$$slots:{default:[Xl]},$$scope:{ctx:a}}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&2&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Hl(a){let t,l=Y(a[0].lastUsed).fromNow()+"",e,r,n,s=Y(a[0].lastUsed).format(`${a[0].dateFormat} ${a[0].timeFormat} `)+"",i;return{c(){t=E("div"),e=T(l),r=j(),n=E("div"),i=T(s),this.h()},l(o){t=I(o,"DIV",{class:!0});var f=D(t);e=z(f,l),f.forEach(c),r=L(o),n=I(o,"DIV",{class:!0});var u=D(n);i=z(u,s),u.forEach(c),this.h()},h(){y(t,"class","mb-1 text-xl font-bold dark:text-white"),y(n,"class","text-xs text-gray-500")},m(o,f){_(o,t,f),V(t,e),_(o,r,f),_(o,n,f),V(n,i)},p(o,f){f&1&&l!==(l=Y(o[0].lastUsed).fromNow()+"")&&K(e,l),f&1&&s!==(s=Y(o[0].lastUsed).format(`${o[0].dateFormat} ${o[0].timeFormat} `)+"")&&K(i,s)},i:C,o:C,d(o){o&&c(t),o&&c(r),o&&c(n)}}}function Xl(a){let t;return{c(){t=T("Unknown")},l(l){t=z(l,"Unknown")},m(l,e){_(l,t,e)},d(l){l&&c(t)}}}function Zl(a){let t,l,e=a[0]&&at(a);return{c(){e&&e.c(),t=W()},l(r){e&&e.l(r),t=W()},m(r,n){e&&e.m(r,n),_(r,t,n),l=!0},p(r,[n]){r[0]?e?(e.p(r,n),n&1&&m(e,1)):(e=at(r),e.c(),m(e,1),e.m(t.parentNode,t)):e&&(M(),$(e,1,1,()=>{e=null}),U())},i(r){l||(m(e),l=!0)},o(r){$(e),l=!1},d(r){e&&e.d(r),r&&c(t)}}}function Jl(a,t,l){let{widget:e}=t;return a.$$set=r=>{"widget"in r&&l(0,e=r.widget)},[e]}class Kl extends x{constructor(t){super();ee(this,t,Jl,Zl,te,{widget:0})}}function it(a){return a.element&&a.element.obj&&a.element.obj.color?a.element.obj.color:dl(a.element.id)}function ne(a,t){return t.element.obj&&t.element.obj.displayValue?t.element.obj.displayValue(a):a}function ot(a){let t,l,e;return l=new $l({props:{height:100,showSelected:!1,type:a[0].type=="linechart"?"line":"bar",color:it(a[0]),labels:a[0].stats.chart.values.map(ft),points:a[0].stats.chart.values,hideXTicks:a[0].size=="sm",hideYTicks:a[0].size=="sm",ignoreZero:a[0].element.obj?a[0].element.obj.ignore_zeros:!1,yFormat:a[1]}}),{c(){t=E("div"),b(l.$$.fragment),this.h()},l(r){t=I(r,"DIV",{class:!0});var n=D(t);v(l.$$.fragment,n),n.forEach(c),this.h()},h(){y(t,"class","chart-value svelte-10sb5n7")},m(r,n){_(r,t,n),k(l,t,null),e=!0},p(r,n){const s={};n&1&&(s.type=r[0].type=="linechart"?"line":"bar"),n&1&&(s.color=it(r[0])),n&1&&(s.labels=r[0].stats.chart.values.map(ft)),n&1&&(s.points=r[0].stats.chart.values),n&1&&(s.hideXTicks=r[0].size=="sm"),n&1&&(s.hideYTicks=r[0].size=="sm"),n&1&&(s.ignoreZero=r[0].element.obj?r[0].element.obj.ignore_zeros:!1),n&1&&(s.yFormat=r[1]),l.$set(s)},i(r){e||(m(l.$$.fragment,r),e=!0)},o(r){$(l.$$.fragment,r),e=!1},d(r){r&&c(t),w(l)}}}function Ql(a){let t,l,e=a[0]&&ot(a);return{c(){e&&e.c(),t=W()},l(r){e&&e.l(r),t=W()},m(r,n){e&&e.m(r,n),_(r,t,n),l=!0},p(r,[n]){r[0]?e?(e.p(r,n),n&1&&m(e,1)):(e=ot(r),e.c(),m(e,1),e.m(t.parentNode,t)):e&&(M(),$(e,1,1,()=>{e=null}),U())},i(r){l||(m(e),l=!0)},o(r){$(e),l=!1},d(r){e&&e.d(r),r&&c(t)}}}const ft=a=>a.x;function Gl(a,t,l){let{widget:e}=t;const r=n=>e.element.type=="tracker"?e.element.obj.displayValue(n):n;return a.$$set=n=>{"widget"in n&&l(0,e=n.widget)},[e,r]}class xl extends x{constructor(t){super();ee(this,t,Gl,Ql,te,{widget:0})}}function ut(a){let t,l,e=ne(a[0].stats.avg,a[0])+"",r;return{c(){t=E("div"),l=T("avg "),r=T(e),this.h()},l(n){t=I(n,"DIV",{class:!0});var s=D(t);l=z(s,"avg "),r=z(s,e),s.forEach(c),this.h()},h(){y(t,"class","avg")},m(n,s){_(n,t,s),V(t,l),V(t,r)},p(n,s){s&1&&e!==(e=ne(n[0].stats.avg,n[0])+"")&&K(r,e)},d(n){n&&c(t)}}}function er(a){let t,l,e=(a[0].math=="mean"?ne(a[0].stats.avg,a[0]):ne(a[0].stats.sum,a[0]))+"",r,n,s,i=a[0].includeAvg&&ut(a);return{c(){t=E("div"),l=E("div"),r=T(e),n=j(),i&&i.c(),this.h()},l(o){t=I(o,"DIV",{class:!0});var f=D(t);l=I(f,"DIV",{class:!0});var u=D(l);r=z(u,e),u.forEach(c),n=L(f),i&&i.l(f),f.forEach(c),this.h()},h(){y(l,"class","current dark:text-white svelte-i0biqx"),y(t,"class",s="value "+(a[0].includeAvg?"value-sm":""))},m(o,f){_(o,t,f),V(t,l),V(l,r),V(t,n),i&&i.m(t,null)},p(o,[f]){f&1&&e!==(e=(o[0].math=="mean"?ne(o[0].stats.avg,o[0]):ne(o[0].stats.sum,o[0]))+"")&&K(r,e),o[0].includeAvg?i?i.p(o,f):(i=ut(o),i.c(),i.m(t,null)):i&&(i.d(1),i=null),f&1&&s!==(s="value "+(o[0].includeAvg?"value-sm":""))&&y(t,"class",s)},i:C,o:C,d(o){o&&c(t),i&&i.d()}}}function tr(a,t,l){let{widget:e}=t;return a.$$set=r=>{"widget"in r&&l(0,e=r.widget)},[e]}class lr extends x{constructor(t){super();ee(this,t,tr,er,te,{widget:0})}}function rr(a){let t,l=q.t("general.no-note-found","No note found")+"",e;return{c(){t=E("div"),e=T(l),this.h()},l(r){t=I(r,"DIV",{class:!0});var n=D(t);e=z(n,l),n.forEach(c),this.h()},h(){y(t,"class","empty value")},m(r,n){_(r,t,n),V(t,e)},p:C,i:C,o:C,d(r){r&&c(t)}}}function nr(a){let t,l,e,r,n;return l=new re({props:{size:"md",className:"px-2",$$slots:{default:[sr]},$$scope:{ctx:a}}}),r=new re({props:{size:"sm",className:"mt-1 px-2",faded:!0,$$slots:{default:[ar]},$$scope:{ctx:a}}}),{c(){t=E("div"),b(l.$$.fragment),e=j(),b(r.$$.fragment),this.h()},l(s){t=I(s,"DIV",{class:!0});var i=D(t);v(l.$$.fragment,i),e=L(i),v(r.$$.fragment,i),i.forEach(c),this.h()},h(){y(t,"class","overflow-y-auto widget-note value")},m(s,i){_(s,t,i),k(l,t,null),V(t,e),k(r,t,null),n=!0},p(s,i){const o={};i&5&&(o.$$scope={dirty:i,ctx:s}),l.$set(o);const f={};i&5&&(f.$$scope={dirty:i,ctx:s}),r.$set(f)},i(s){n||(m(l.$$.fragment,s),m(r.$$.fragment,s),n=!0)},o(s){$(l.$$.fragment,s),$(r.$$.fragment,s),n=!1},d(s){s&&c(t),w(l),w(r)}}}function sr(a){let t=a[0].note+"",l;return{c(){l=T(t)},l(e){l=z(e,t)},m(e,r){_(e,l,r)},p(e,r){r&1&&t!==(t=e[0].note+"")&&K(l,t)},d(e){e&&c(l)}}}function ar(a){let t=Y(a[0].end).fromNow()+"",l;return{c(){l=T(t)},l(e){l=z(e,t)},m(e,r){_(e,l,r)},p(e,r){r&1&&t!==(t=Y(e[0].end).fromNow()+"")&&K(l,t)},d(e){e&&c(l)}}}function ir(a){let t,l,e,r;const n=[nr,rr],s=[];function i(o,f){return o[0]?0:1}return t=i(a),l=s[t]=n[t](a),{c(){l.c(),e=W()},l(o){l.l(o),e=W()},m(o,f){s[t].m(o,f),_(o,e,f),r=!0},p(o,[f]){let u=t;t=i(o),t===u?s[t].p(o,f):(M(),$(s[u],1,1,()=>{s[u]=null}),U(),l=s[t],l?l.p(o,f):(l=s[t]=n[t](o),l.c()),m(l,1),l.m(e.parentNode,e))},i(o){r||(m(l),r=!0)},o(o){$(l),r=!1},d(o){s[t].d(o),o&&c(e)}}}function or(a,t,l){let{widget:e}=t,r;return a.$$set=n=>{"widget"in n&&l(1,e=n.widget)},a.$$.update=()=>{a.$$.dirty&2&&e.logs&&l(0,r=e.logs[0])},[r,e]}class fr extends x{constructor(t){super();ee(this,t,or,ir,te,{widget:1})}}function ur(a){let t=ne(a[0].stats.max.value,a[0])+"",l;return{c(){l=T(t)},l(e){l=z(e,t)},m(e,r){_(e,l,r)},p(e,r){r&1&&t!==(t=ne(e[0].stats.max.value,e[0])+"")&&K(l,t)},d(e){e&&c(l)}}}function cr(a){let t,l,e=Y(a[0].stats.max.date).format(a[1])+"",r,n;return t=new de({props:{name:"chevronUp",size:12}}),{c(){b(t.$$.fragment),l=j(),r=T(e)},l(s){v(t.$$.fragment,s),l=L(s),r=z(s,e)},m(s,i){k(t,s,i),_(s,l,i),_(s,r,i),n=!0},p(s,i){(!n||i&3)&&e!==(e=Y(s[0].stats.max.date).format(s[1])+"")&&K(r,e)},i(s){n||(m(t.$$.fragment,s),n=!0)},o(s){$(t.$$.fragment,s),n=!1},d(s){w(t,s),s&&c(l),s&&c(r)}}}function mr(a){let t=ne(a[0].stats.min.value,a[0])+"",l;return{c(){l=T(t)},l(e){l=z(e,t)},m(e,r){_(e,l,r)},p(e,r){r&1&&t!==(t=ne(e[0].stats.min.value,e[0])+"")&&K(l,t)},d(e){e&&c(l)}}}function dr(a){let t=Y(a[0].stats.min.date).format(a[1])+"",l,e,r,n;return r=new de({props:{name:"chevronDown",size:12}}),{c(){l=T(t),e=j(),b(r.$$.fragment)},l(s){l=z(s,t),e=L(s),v(r.$$.fragment,s)},m(s,i){_(s,l,i),_(s,e,i),k(r,s,i),n=!0},p(s,i){(!n||i&3)&&t!==(t=Y(s[0].stats.min.date).format(s[1])+"")&&K(l,t)},i(s){n||(m(r.$$.fragment,s),n=!0)},o(s){$(r.$$.fragment,s),n=!1},d(s){s&&c(l),s&&c(e),w(r,s)}}}function $r(a){let t,l,e,r,n,s,i,o,f,u,d;return e=new re({props:{size:ne(a[0].stats.max.value,a[0]).toString().length>5?"lg":"xl",bold:!0,$$slots:{default:[ur]},$$scope:{ctx:a}}}),n=new re({props:{size:"xs",faded:!0,style:"margin-left:-12px;",$$slots:{default:[cr]},$$scope:{ctx:a}}}),o=new re({props:{size:ne(a[0].stats.max.value,a[0]).toString().length>5?"lg":"xl",bold:!0,$$slots:{default:[mr]},$$scope:{ctx:a}}}),u=new re({props:{size:"xs",faded:!0,style:"margin-right:-12px;",$$slots:{default:[dr]},$$scope:{ctx:a}}}),{c(){t=E("div"),l=E("div"),b(e.$$.fragment),r=j(),b(n.$$.fragment),s=j(),i=E("div"),b(o.$$.fragment),f=j(),b(u.$$.fragment),this.h()},l(p){t=I(p,"DIV",{class:!0});var h=D(t);l=I(h,"DIV",{class:!0});var N=D(l);v(e.$$.fragment,N),r=L(N),v(n.$$.fragment,N),N.forEach(c),s=L(h),i=I(h,"DIV",{class:!0});var B=D(i);v(o.$$.fragment,B),f=L(B),v(u.$$.fragment,B),B.forEach(c),h.forEach(c),this.h()},h(){y(l,"class","max text-center"),y(i,"class","min text-center"),y(t,"class","value min-max")},m(p,h){_(p,t,h),V(t,l),k(e,l,null),V(l,r),k(n,l,null),V(t,s),V(t,i),k(o,i,null),V(i,f),k(u,i,null),d=!0},p(p,[h]){const N={};h&1&&(N.size=ne(p[0].stats.max.value,p[0]).toString().length>5?"lg":"xl"),h&9&&(N.$$scope={dirty:h,ctx:p}),e.$set(N);const B={};h&11&&(B.$$scope={dirty:h,ctx:p}),n.$set(B);const R={};h&1&&(R.size=ne(p[0].stats.max.value,p[0]).toString().length>5?"lg":"xl"),h&9&&(R.$$scope={dirty:h,ctx:p}),o.$set(R);const Q={};h&11&&(Q.$$scope={dirty:h,ctx:p}),u.$set(Q)},i(p){d||(m(e.$$.fragment,p),m(n.$$.fragment,p),m(o.$$.fragment,p),m(u.$$.fragment,p),d=!0)},o(p){$(e.$$.fragment,p),$(n.$$.fragment,p),$(o.$$.fragment,p),$(u.$$.fragment,p),d=!1},d(p){p&&c(t),w(e),w(n),w(o),w(u)}}}function _r(a,t,l){let e,r;ve(a,Te,s=>l(2,r=s));let{widget:n}=t;return a.$$set=s=>{"widget"in s&&l(0,n=s.widget)},a.$$.update=()=>{a.$$.dirty&4&&l(1,e=r.meta.is24Hour?"ddd D MMM YYYY":"ddd MMM D YYYY")},[n,e,r]}class pr extends x{constructor(t){super();ee(this,t,_r,$r,te,{widget:0})}}function gr(a){let t;return{c(){t=E("canvas"),this.h()},l(l){t=I(l,"CANVAS",{id:!0,width:!0,height:!0}),D(t).forEach(c),this.h()},h(){y(t,"id",a[0]),y(t,"width","150"),y(t,"height","150")},m(l,e){_(l,t,e)},p:C,i:C,o:C,d(l){l&&c(t)}}}function hr(a,t,l){let{data:e=[]}=t;const r=`chart-${ze()}`;function n(){var s=document.getElementById(r);new il(s,{type:"doughnut",data:{labels:e.map(i=>i.label),datasets:[{backgroundColor:e.map(i=>i.color),data:e.map(i=>i.value)}]},options:{legend:{display:!1},maintainAspectRatio:!1,title:{display:!1}}})}return De(n),a.$$set=s=>{"data"in s&&l(1,e=s.data)},[r,e]}class br extends x{constructor(t){super();ee(this,t,hr,gr,te,{data:1})}}function vr(a){let t,l,e;return l=new br({props:{data:a[0]}}),{c(){t=E("div"),b(l.$$.fragment),this.h()},l(r){t=I(r,"DIV",{class:!0});var n=D(t);v(l.$$.fragment,n),n.forEach(c),this.h()},h(){y(t,"class","value")},m(r,n){_(r,t,n),k(l,t,null),e=!0},p(r,[n]){const s={};n&1&&(s.data=r[0]),l.$set(s)},i(r){e||(m(l.$$.fragment,r),e=!0)},o(r){$(l.$$.fragment,r),e=!1},d(r){r&&c(t),w(l)}}}function kr(a,t,l){let{widget:e}=t,r=[];return a.$$set=n=>{"widget"in n&&l(1,e=n.widget)},a.$$.update=()=>{a.$$.dirty&2&&e&&l(0,r=[{label:"Positive",value:e.positivity.positive,color:"#38a83f"},{label:"Neutral",value:e.positivity.neutral,color:"#319ed7"},{label:"Negative",value:e.positivity.negative,color:"#e94151"}])},[r,e]}class wr extends x{constructor(t){super();ee(this,t,kr,vr,te,{widget:1})}}function ct(a){let t,l,e;return l=new _l({props:{height:190,lock:!0,records:a[0].stats.rows}}),{c(){t=E("div"),b(l.$$.fragment),this.h()},l(r){t=I(r,"DIV",{class:!0,style:!0});var n=D(t);v(l.$$.fragment,n),n.forEach(c),this.h()},h(){y(t,"class","map-value"),Ve(t,"width","100%")},m(r,n){_(r,t,n),k(l,t,null),e=!0},p(r,n){const s={};n&1&&(s.records=r[0].stats.rows),l.$set(s)},i(r){e||(m(l.$$.fragment,r),e=!0)},o(r){$(l.$$.fragment,r),e=!1},d(r){r&&c(t),w(l)}}}function yr(a){let t,l,e=a[0]&&ct(a);return{c(){e&&e.c(),t=W()},l(r){e&&e.l(r),t=W()},m(r,n){e&&e.m(r,n),_(r,t,n),l=!0},p(r,[n]){r[0]?e?(e.p(r,n),n&1&&m(e,1)):(e=ct(r),e.c(),m(e,1),e.m(t.parentNode,t)):e&&(M(),$(e,1,1,()=>{e=null}),U())},i(r){l||(m(e),l=!0)},o(r){$(e),l=!1},d(r){e&&e.d(r),r&&c(t)}}}function Dr(a,t,l){let{widget:e}=t;return a.$$set=r=>{"widget"in r&&l(0,e=r.widget)},[e]}class Er extends x{constructor(t){super();ee(this,t,Dr,yr,te,{widget:0})}}function Ir(a){let t;return{c(){t=T("Streaks currently only support Trackers")},l(l){t=z(l,"Streaks currently only support Trackers")},m(l,e){_(l,t,e)},p:C,d(l){l&&c(t)}}}function Nr(a){let t,l;return{c(){t=E("div"),l=T(a[1]),this.h()},l(e){t=I(e,"DIV",{class:!0});var r=D(t);l=z(r,a[1]),r.forEach(c),this.h()},h(){y(t,"class","calendar-wrapper svelte-fhlbio")},m(e,r){_(e,t,r),V(t,l)},p(e,r){r&2&&K(l,e[1])},d(e){e&&c(t)}}}function Vr(a){let t;function l(n,s){return n[0]&&n[0].element.type=="tracker"?Nr:Ir}let e=l(a),r=e(a);return{c(){r.c(),t=W()},l(n){r.l(n),t=W()},m(n,s){r.m(n,s),_(n,t,s)},p(n,[s]){e===(e=l(n))&&r?r.p(n,s):(r.d(1),r=e(n),r&&(r.c(),r.m(t.parentNode,t)))},i:C,o:C,d(n){r.d(n),n&&c(t)}}}function Or(a,t,l){let{widget:e}=t,r=0;function n(){return Z(this,null,function*(){let s=e.stats._stats.getStreakData();l(1,r=s.streak)})}return De(n),a.$$set=s=>{"widget"in s&&l(0,e=s.widget)},[e,r]}class Tr extends x{constructor(t){super();ee(this,t,Or,Vr,te,{widget:0})}}function zr(a){let t,l=a[0].description+"",e,r,n,s;return{c(){t=E("div"),e=T(l),this.h()},l(i){t=I(i,"DIV",{id:!0,class:!0});var o=D(t);e=z(o,l),o.forEach(c),this.h()},h(){y(t,"id",a[2]),y(t,"class",r="dashboard-text type-text text-center widget-size-"+a[0].size)},m(i,o){_(i,t,o),V(t,e),n||(s=ke(t,"click",a[7]),n=!0)},p(i,o){o&1&&l!==(l=i[0].description+"")&&K(e,l),o&1&&r!==(r="dashboard-text type-text text-center widget-size-"+i[0].size)&&y(t,"class",r)},i:C,o:C,d(i){i&&c(t),n=!1,s()}}}function Sr(a){let t,l,e,r,n,s,i,o,f,u,d,p,h,N,B;e=new We({props:{xs:!0,truncate:!0,novalue:!0,element:a[0].element}}),e.$on("click",a[5]),i=new ue({props:{size:"xs",color:"clear",className:"p-1",$$slots:{default:[Wr]},$$scope:{ctx:a}}}),i.$on("click",a[6]);const R=[jr,Cr],Q=[];function me(A,H){return A[0].stats?0:1}u=me(a),d=Q[u]=R[u](a);let F=a[0].timeRange&&mt(a);return{c(){t=E("div"),l=E("div"),b(e.$$.fragment),r=j(),n=E("div"),s=j(),b(i.$$.fragment),o=j(),f=E("div"),d.c(),p=j(),h=E("div"),F&&F.c(),this.h()},l(A){t=I(A,"DIV",{class:!0,id:!0});var H=D(t);l=I(H,"DIV",{class:!0});var se=D(l);v(e.$$.fragment,se),r=L(se),n=I(se,"DIV",{class:!0}),D(n).forEach(c),s=L(se),v(i.$$.fragment,se),se.forEach(c),o=L(H),f=I(H,"DIV",{class:!0});var O=D(f);d.l(O),O.forEach(c),p=L(H),h=I(H,"DIV",{class:!0});var J=D(h);F&&F.l(J),J.forEach(c),H.forEach(c),this.h()},h(){y(n,"class","filler"),y(l,"class","flex widget-header"),y(f,"class","widget-main"),y(h,"class","flex widget-footer"),y(t,"class",N="dashboard-widget "+dt(a[0])),y(t,"id",a[2])},m(A,H){_(A,t,H),V(t,l),k(e,l,null),V(l,r),V(l,n),V(l,s),k(i,l,null),V(t,o),V(t,f),Q[u].m(f,null),V(t,p),V(t,h),F&&F.m(h,null),B=!0},p(A,H){const se={};H&1&&(se.element=A[0].element),e.$set(se);const O={};H&512&&(O.$$scope={dirty:H,ctx:A}),i.$set(O);let J=u;u=me(A),u===J?Q[u].p(A,H):(M(),$(Q[J],1,1,()=>{Q[J]=null}),U(),d=Q[u],d?d.p(A,H):(d=Q[u]=R[u](A),d.c()),m(d,1),d.m(f,null)),A[0].timeRange?F?(F.p(A,H),H&1&&m(F,1)):(F=mt(A),F.c(),m(F,1),F.m(h,null)):F&&(M(),$(F,1,1,()=>{F=null}),U()),(!B||H&1&&N!==(N="dashboard-widget "+dt(A[0])))&&y(t,"class",N)},i(A){B||(m(e.$$.fragment,A),m(i.$$.fragment,A),m(d),m(F),B=!0)},o(A){$(e.$$.fragment,A),$(i.$$.fragment,A),$(d),$(F),B=!1},d(A){A&&c(t),w(e),w(i),Q[u].d(),F&&F.d()}}}function Wr(a){let t,l;return t=new de({props:{name:"settings",style:"fill: var(--color-inverse-2)",size:16}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p:C,i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Cr(a){let t,l,e;return l=new Qe({props:{size:24}}),{c(){t=E("div"),b(l.$$.fragment),this.h()},l(r){t=I(r,"DIV",{class:!0});var n=D(t);v(l.$$.fragment,n),n.forEach(c),this.h()},h(){y(t,"class","flex value")},m(r,n){_(r,t,n),k(l,t,null),e=!0},p:C,i(r){e||(m(l.$$.fragment,r),e=!0)},o(r){$(l.$$.fragment,r),e=!1},d(r){r&&c(t),w(l)}}}function jr(a){let t,l,e,r,n;const s=[Br,Yr,Pr,Fr,Rr,Ar,Ur,Mr,qr,Lr],i=[];function o(f,u){return(t==null||u&1)&&(t=!!(["barchart","linechart"].indexOf(f[0].type)>-1&&f[0].stats&&f[0].stats.chart)),t?0:f[0].type=="value"&&f[0].stats?1:f[0].type=="note"&&f[0].stats?2:f[0].type=="what-time"?3:f[0].type=="last-used"?4:f[0].type=="positivity"&&f[0].stats?5:f[0].type=="min-max"&&f[0].stats?6:f[0].type=="map"&&f[0].stats?7:f[0].type=="streak"&&f[0].stats?8:9}return l=o(a,-1),e=i[l]=s[l](a),{c(){e.c(),r=W()},l(f){e.l(f),r=W()},m(f,u){i[l].m(f,u),_(f,r,u),n=!0},p(f,u){let d=l;l=o(f,u),l===d?i[l].p(f,u):(M(),$(i[d],1,1,()=>{i[d]=null}),U(),e=i[l],e?e.p(f,u):(e=i[l]=s[l](f),e.c()),m(e,1),e.m(r.parentNode,r))},i(f){n||(m(e),n=!0)},o(f){$(e),n=!1},d(f){i[l].d(f),f&&c(r)}}}function Lr(a){let t,l,e=a[0].type+"",r;return{c(){t=E("div"),l=T("Unknown "),r=T(e),this.h()},l(n){t=I(n,"DIV",{class:!0});var s=D(t);l=z(s,"Unknown "),r=z(s,e),s.forEach(c),this.h()},h(){y(t,"class","value")},m(n,s){_(n,t,s),V(t,l),V(t,r)},p(n,s){s&1&&e!==(e=n[0].type+"")&&K(r,e)},i:C,o:C,d(n){n&&c(t)}}}function qr(a){let t,l;return t=new Tr({props:{widget:a[0]}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&1&&(n.widget=e[0]),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Mr(a){let t,l;return t=new Er({props:{widget:a[0]}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&1&&(n.widget=e[0]),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Ur(a){let t,l;return t=new pr({props:{widget:a[0]}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&1&&(n.widget=e[0]),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Ar(a){let t,l;return t=new wr({props:{widget:a[0]}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&1&&(n.widget=e[0]),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Rr(a){let t,l;return t=new Kl({props:{widget:a[0]}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&1&&(n.widget=e[0]),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Fr(a){let t,l;return t=new Yl({props:{widget:a[0]}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&1&&(n.widget=e[0]),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Pr(a){let t,l;return t=new fr({props:{widget:a[0]}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&1&&(n.widget=e[0]),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Yr(a){let t,l;return t=new lr({props:{widget:a[0]}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&1&&(n.widget=e[0]),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Br(a){let t,l;return t=new xl({props:{widget:a[0]}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&1&&(n.widget=e[0]),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function mt(a){let t,l;return t=new re({props:{size:"xs",className:"text-center flex-grow text-uppercase font-weight-bold",$$slots:{default:[Hr]},$$scope:{ctx:a}}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&513&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Hr(a){let t=a[0].getLabel()+"",l;return{c(){l=T(t)},l(e){l=z(e,t)},m(e,r){_(e,l,r)},p(e,r){r&1&&t!==(t=e[0].getLabel()+"")&&K(l,t)},d(e){e&&c(l)}}}function Xr(a){let t,l,e,r;const n=[Sr,zr],s=[];function i(o,f){return o[0]&&o[0].type!=="text"?0:1}return t=i(a),l=s[t]=n[t](a),{c(){l.c(),e=W()},l(o){l.l(o),e=W()},m(o,f){s[t].m(o,f),_(o,e,f),r=!0},p(o,[f]){let u=t;t=i(o),t===u?s[t].p(o,f):(M(),$(s[u],1,1,()=>{s[u]=null}),U(),l=s[t],l?l.p(o,f):(l=s[t]=n[t](o),l.c()),m(l,1),l.m(e.parentNode,e))},i(o){r||(m(l),r=!0)},o(o){$(l),r=!1},d(o){s[t].d(o),o&&c(e)}}}function Zr(a){return a.type=="person"?a.obj?a.obj.username:a.id:a.type=="tracker"&&a.obj?a.obj.label:a.id}function dt(a){let t=[`type-${a.type}`],l;return a.stats&&(a.type=="last-used"?l=a.stats.daysPast:l=a.math!=="sum"?a.stats.avg:a.stats.sum),l=l||0,a.compareValue&&(l>a.compareValue?t.push(`over widget-${a.compareOverColor}`):l<a.compareValue&&t.push(`over widget-${a.compareUnderColor}`)),t.push(`widget-size-${a.size}`),t.join(" ")}function Jr(a,t,l){let e;ve(a,Se,p=>l(8,e=p));const r=Ye(),n=ze();let{widget:s}=t;function i(){const p={icon:"tracker",title:` ${s.element.type=="person"?q.t("people.check-in","Check-in"):q.t("general.track-value","Track Value")}`,click:()=>Z(this,null,function*(){if(s.element.type=="person")le.person(s.element.id);else if(s.element.type=="tracker"){let B=yield new pl(s.element.obj,e.trackers).getNoteString();gl.journal(new hl({note:B}))}})},h=le.getElementOptionButons(s.element);h[0].divider="true",h.unshift(p),le.popmenu({title:`${Zr(s.element)} options`,buttons:h})}function o(p,h){r("action",{type:p,widget:h})}const f=()=>{i()},u=()=>{G.widgetOptions(s,o),r("click")},d=()=>{r("click")};return a.$$set=p=>{"widget"in p&&l(0,s=p.widget)},[s,r,n,i,o,f,u,d]}class Kr extends x{constructor(t){super();ee(this,t,Jr,Xr,te,{widget:0})}}function Qr(a){let t,l,e=[{xmlns:"http://www.w3.org/2000/svg"},{class:"ionicon"},{viewBox:"0 0 512 512"},a[0]],r={};for(let n=0;n<e.length;n+=1)r=Oe(r,e[n]);return{c(){t=Be("svg"),l=Be("path"),this.h()},l(n){t=He(n,"svg",{xmlns:!0,class:!0,viewBox:!0});var s=D(t);l=He(s,"path",{fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),D(l).forEach(c),s.forEach(c),this.h()},h(){y(l,"fill","none"),y(l,"stroke","currentColor"),y(l,"stroke-linecap","round"),y(l,"stroke-linejoin","round"),y(l,"stroke-width","32"),y(l,"d","M416 128 192 384l-96-96"),Xe(t,r)},m(n,s){_(n,t,s),V(t,l)},p(n,[s]){Xe(t,r=ol(e,[{xmlns:"http://www.w3.org/2000/svg"},{class:"ionicon"},{viewBox:"0 0 512 512"},s&1&&n[0]]))},i:C,o:C,d(n){n&&c(t)}}}function Gr(a,t,l){return a.$$set=e=>{l(0,t=Oe(Oe({},t),Ze(e)))},t=Ze(t),[t]}class xr extends x{constructor(t){super();ee(this,t,Gr,Qr,te,{})}}var en=xr;function $t(a,t,l){const e=a.slice();return e[7]=t[l],e}function _t(a){let t,l;return t=new bl({props:{className:"text-white",icon:en,size:20}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p:C,i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function pt(a){let t,l,e,r,n,s,i,o,f=a[3]===a[7]&&_t();function u(){return a[6](a[7])}return{c(){t=E("button"),f&&f.c(),l=j(),this.h()},l(d){t=I(d,"BUTTON",{"aria-label":!0,style:!0,class:!0});var p=D(t);f&&f.l(p),l=L(p),p.forEach(c),this.h()},h(){y(t,"aria-label",e=a[7]),y(t,"style",r=`height:${a[1]}px;width:${a[1]}px;`),y(t,"class",n=`${a[3]==a[7]?`selected ${a[7]}`:`not-selected ${a[7]}`}`)},m(d,p){_(d,t,p),f&&f.m(t,null),V(t,l),s=!0,i||(o=ke(t,"click",u),i=!0)},p(d,p){a=d,a[3]===a[7]?f?(f.p(a,p),p&9&&m(f,1)):(f=_t(),f.c(),m(f,1),f.m(t,l)):f&&(M(),$(f,1,1,()=>{f=null}),U()),(!s||p&1&&e!==(e=a[7]))&&y(t,"aria-label",e),(!s||p&2&&r!==(r=`height:${a[1]}px;width:${a[1]}px;`))&&y(t,"style",r),(!s||p&9&&n!==(n=`${a[3]==a[7]?`selected ${a[7]}`:`not-selected ${a[7]}`}`))&&y(t,"class",n)},i(d){s||(m(f),s=!0)},o(d){$(f),s=!1},d(d){d&&c(t),f&&f.d(),i=!1,o()}}}function tn(a){let t,l,e,r=a[0],n=[];for(let i=0;i<r.length;i+=1)n[i]=pt($t(a,r,i));const s=i=>$(n[i],1,1,()=>{n[i]=null});return{c(){t=E("div");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){t=I(i,"DIV",{class:!0});var o=D(t);for(let f=0;f<n.length;f+=1)n[f].l(o);o.forEach(c),this.h()},h(){y(t,"class",l="tiny-color-picker flex "+a[2])},m(i,o){_(i,t,o);for(let f=0;f<n.length;f+=1)n[f].m(t,null);e=!0},p(i,[o]){if(o&27){r=i[0];let f;for(f=0;f<r.length;f+=1){const u=$t(i,r,f);n[f]?(n[f].p(u,o),m(n[f],1)):(n[f]=pt(u),n[f].c(),m(n[f],1),n[f].m(t,null))}for(M(),f=r.length;f<n.length;f+=1)s(f);U()}(!e||o&4&&l!==(l="tiny-color-picker flex "+i[2]))&&y(t,"class",l)},i(i){if(!e){for(let o=0;o<r.length;o+=1)m(n[o]);e=!0}},o(i){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)$(n[o]);e=!1},d(i){i&&c(t),ye(n,i)}}}function ln(a,t,l){let{value:e}=t,{colors:r=["green","orange","red","blue"]}=t,{size:n=24}=t,{className:s=""}=t;const i=Ye();let o;const f=u=>{i("change",u)};return a.$$set=u=>{"value"in u&&l(5,e=u.value),"colors"in u&&l(0,r=u.colors),"size"in u&&l(1,n=u.size),"className"in u&&l(2,s=u.className)},a.$$.update=()=>{a.$$.dirty&40&&e&&e!==o&&l(3,o=e)},[r,n,s,o,i,e,f]}class gt extends x{constructor(t){super();ee(this,t,ln,tn,te,{value:5,colors:0,size:1,className:2})}}const Ce=[{id:"today",label:"Today",start:{startOf:"day"},end:{endOf:"day"}},{id:"yesterday",label:"Yesterday",start:{subtract:[1,"day"],startOf:"day"},end:{subtract:[1,"day"],endOf:"day"}},{id:"last-7",label:"Last 7 days",start:{subtract:[6,"day"],startOf:"day"},end:{endOf:"day"}},{id:"last-30",label:"Last 30 days",start:{subtract:[29,"day"],startOf:"day"},end:{endOf:"day"}},{id:"last-90",label:"Last 90 days",start:{subtract:[89,"day"],startOf:"day"},end:{endOf:"day"}},{id:"last-365",label:"Last 365 days",start:{subtract:[365,"day"],startOf:"day"},end:{endOf:"day"}},{id:"this-week",label:"This Week",start:{startOf:"week"},end:{endOf:"week"}},{id:"last-week",label:"Last Week",start:{subtract:[1,"week"],startOf:"week"},end:{subtract:[1,"week"],endOf:"week"}},{id:"this-month",label:"This Month",start:{startOf:"month"},end:{endOf:"month"}},{id:"this-year",label:"This Year",start:{startOf:"year"},end:{endOf:"year"}},{id:"last-month",label:"Last Month",start:{subtract:[1,"month"],startOf:"month"},end:{subtract:[1,"month"],endOf:"month"}}],Ee=[{label:"Display Value",id:"value",requires:["timeframe","element"],optional:["cond-style"]},{label:"Latest Note",id:"note",requires:["timeframe","element"],optional:[]},{label:"Bar Chart",id:"barchart",requires:["timeframe","element"],optional:[]},{label:"Line Chart",id:"linechart",requires:["timeframe","element"],optional:[]},{label:"Min / Max",id:"min-max",requires:["timeframe","element"],optional:[]},{label:"Map",id:"map",requires:["timeframe","element"],optional:[]},{label:"Positivity Pie Chart",id:"positivity",requires:["timeframe","element"],optional:[]},{label:"Last Used",id:"last-used",requires:["element"],optional:["cond-style"]},{label:"Just Text",id:"text",requires:[],optional:[]}];function ht(a,t,l){const e=a.slice();return e[20]=t[l],e}function bt(a,t,l){const e=a.slice();return e[4]=t[l],e}function vt(a){let t,l=a[4].label+"",e,r;return{c(){t=E("option"),e=T(l),this.h()},l(n){t=I(n,"OPTION",{});var s=D(t);e=z(s,l),s.forEach(c),this.h()},h(){t.__value=r=a[4].id,t.value=t.__value},m(n,s){_(n,t,s),V(t,e)},p:C,d(n){n&&c(t)}}}function rn(a){let t,l=q.t("dashboard.select-a-widget","Select a Widget")+"",e,r,n,s=Ee,i=[];for(let o=0;o<s.length;o+=1)i[o]=vt(bt(a,s,o));return{c(){t=E("option"),e=T(l),r=j();for(let o=0;o<i.length;o+=1)i[o].c();n=W(),this.h()},l(o){t=I(o,"OPTION",{});var f=D(t);e=z(f,l),f.forEach(c),r=L(o);for(let u=0;u<i.length;u+=1)i[u].l(o);n=W(),this.h()},h(){t.__value=q.t("dashboard.select-a-widget","Select a Widget"),t.value=t.__value},m(o,f){_(o,t,f),V(t,e),_(o,r,f);for(let u=0;u<i.length;u+=1)i[u].m(o,f);_(o,n,f)},p(o,f){if(f&0){s=Ee;let u;for(u=0;u<s.length;u+=1){const d=bt(o,s,u);i[u]?i[u].p(d,f):(i[u]=vt(d),i[u].c(),i[u].m(n.parentNode,n))}for(;u<i.length;u+=1)i[u].d(1);i.length=s.length}},d(o){o&&c(t),o&&c(r),ye(i,o),o&&c(n)}}}function kt(a){let t,l;return t=new kl({props:{className:"mt-3 widget-view-options",size:"sm",buttons:a[6]}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&64&&(n.buttons=e[6]),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function wt(a){let t,l,e,r;const n=[sn,nn],s=[];function i(o,f){return o[3]=="options"?0:o[3]=="style"?1:-1}return~(l=i(a))&&(e=s[l]=n[l](a)),{c(){t=E("div"),e&&e.c(),this.h()},l(o){t=I(o,"DIV",{class:!0});var f=D(t);e&&e.l(f),f.forEach(c),this.h()},h(){y(t,"class","widget-views svelte-1bb86qn")},m(o,f){_(o,t,f),~l&&s[l].m(t,null),r=!0},p(o,f){let u=l;l=i(o),l===u?~l&&s[l].p(o,f):(e&&(M(),$(s[u],1,1,()=>{s[u]=null}),U()),~l?(e=s[l],e?e.p(o,f):(e=s[l]=n[l](o),e.c()),m(e,1),e.m(t,null)):e=null)},i(o){r||(m(e),r=!0)},o(o){$(e),r=!1},d(o){o&&c(t),~l&&s[l].d()}}}function nn(a){let t,l,e=a[4]&&[...a[4].requires,...a[4].optional].indexOf("cond-style")>-1,r,n;t=new ce({props:{bg:"transparent",className:"p-0",$$slots:{default:[on]},$$scope:{ctx:a}}});let s=e&&yt(a);return{c(){b(t.$$.fragment),l=j(),s&&s.c(),r=W()},l(i){v(t.$$.fragment,i),l=L(i),s&&s.l(i),r=W()},m(i,o){k(t,i,o),_(i,l,o),s&&s.m(i,o),_(i,r,o),n=!0},p(i,o){const f={};o&33554433&&(f.$$scope={dirty:o,ctx:i}),t.$set(f),o&16&&(e=i[4]&&[...i[4].requires,...i[4].optional].indexOf("cond-style")>-1),e?s?(s.p(i,o),o&16&&m(s,1)):(s=yt(i),s.c(),m(s,1),s.m(r.parentNode,r)):s&&(M(),$(s,1,1,()=>{s=null}),U())},i(i){n||(m(t.$$.fragment,i),m(s),n=!0)},o(i){$(t.$$.fragment,i),$(s),n=!1},d(i){w(t,i),i&&c(l),s&&s.d(i),i&&c(r)}}}function sn(a){let t=a[4]&&[...a[4].requires,...a[4].optional].indexOf("element")>-1,l,e,r=a[4]&&[...a[4].requires,...a[4].optional].indexOf("timeframe")>-1,n,s=a[2]=="value"&&a[0].timeRange&&["today","yesterday"].indexOf(a[0].timeRange.id)==-1,i,o,f=t&&It(a),u=a[2]=="text"&&Nt(a),d=r&&Vt(a),p=s&&Tt(a);return{c(){f&&f.c(),l=j(),u&&u.c(),e=j(),d&&d.c(),n=j(),p&&p.c(),i=W()},l(h){f&&f.l(h),l=L(h),u&&u.l(h),e=L(h),d&&d.l(h),n=L(h),p&&p.l(h),i=W()},m(h,N){f&&f.m(h,N),_(h,l,N),u&&u.m(h,N),_(h,e,N),d&&d.m(h,N),_(h,n,N),p&&p.m(h,N),_(h,i,N),o=!0},p(h,N){N&16&&(t=h[4]&&[...h[4].requires,...h[4].optional].indexOf("element")>-1),t?f?(f.p(h,N),N&16&&m(f,1)):(f=It(h),f.c(),m(f,1),f.m(l.parentNode,l)):f&&(M(),$(f,1,1,()=>{f=null}),U()),h[2]=="text"?u?(u.p(h,N),N&4&&m(u,1)):(u=Nt(h),u.c(),m(u,1),u.m(e.parentNode,e)):u&&(M(),$(u,1,1,()=>{u=null}),U()),N&16&&(r=h[4]&&[...h[4].requires,...h[4].optional].indexOf("timeframe")>-1),r?d?(d.p(h,N),N&16&&m(d,1)):(d=Vt(h),d.c(),m(d,1),d.m(n.parentNode,n)):d&&(M(),$(d,1,1,()=>{d=null}),U()),N&5&&(s=h[2]=="value"&&h[0].timeRange&&["today","yesterday"].indexOf(h[0].timeRange.id)==-1),s?p?(p.p(h,N),N&5&&m(p,1)):(p=Tt(h),p.c(),m(p,1),p.m(i.parentNode,i)):p&&(M(),$(p,1,1,()=>{p=null}),U())},i(h){o||(m(f),m(u),m(d),m(p),o=!0)},o(h){$(f),$(u),$(d),$(p),o=!1},d(h){f&&f.d(h),h&&c(l),u&&u.d(h),h&&c(e),d&&d.d(h),h&&c(n),p&&p.d(h),h&&c(i)}}}function an(a){let t,l,e,r,n,s,i,o;return{c(){t=E("option"),l=T("Small"),e=j(),r=E("option"),n=T("Medium"),s=j(),i=E("option"),o=T("Large"),this.h()},l(f){t=I(f,"OPTION",{});var u=D(t);l=z(u,"Small"),u.forEach(c),e=L(f),r=I(f,"OPTION",{});var d=D(r);n=z(d,"Medium"),d.forEach(c),s=L(f),i=I(f,"OPTION",{});var p=D(i);o=z(p,"Large"),p.forEach(c),this.h()},h(){t.__value="sm",t.value=t.__value,r.__value="md",r.value=r.__value,i.__value="lg",i.value=i.__value},m(f,u){_(f,t,u),V(t,l),_(f,e,u),_(f,r,u),V(r,n),_(f,s,u),_(f,i,u),V(i,o)},d(f){f&&c(t),f&&c(e),f&&c(r),f&&c(s),f&&c(i)}}}function on(a){let t,l,e;function r(s){a[13](s)}let n={type:"select",label:"Widget Size",$$slots:{default:[an]},$$scope:{ctx:a}};return a[0].size!==void 0&&(n.value=a[0].size),t=new ge({props:n}),ie.push(()=>oe(t,"value",r)),{c(){b(t.$$.fragment)},l(s){v(t.$$.fragment,s)},m(s,i){k(t,s,i),e=!0},p(s,i){const o={};i&33554432&&(o.$$scope={dirty:i,ctx:s}),!l&&i&1&&(l=!0,o.value=s[0].size,fe(()=>l=!1)),t.$set(o)},i(s){e||(m(t.$$.fragment,s),e=!0)},o(s){$(t.$$.fragment,s),e=!1},d(s){w(t,s)}}}function yt(a){let t,l,e,r;t=new ce({props:{bg:"transparent",title:"Conditional Colors",className:"p-0",$$slots:{right:[fn]},$$scope:{ctx:a}}});let n=a[5]&&Dt(a);return{c(){b(t.$$.fragment),l=j(),n&&n.c(),e=W()},l(s){v(t.$$.fragment,s),l=L(s),n&&n.l(s),e=W()},m(s,i){k(t,s,i),_(s,l,i),n&&n.m(s,i),_(s,e,i),r=!0},p(s,i){const o={};i&33554464&&(o.$$scope={dirty:i,ctx:s}),t.$set(o),s[5]?n?(n.p(s,i),i&32&&m(n,1)):(n=Dt(s),n.c(),m(n,1),n.m(e.parentNode,e)):n&&(M(),$(n,1,1,()=>{n=null}),U())},i(s){r||(m(t.$$.fragment,s),m(n),r=!0)},o(s){$(t.$$.fragment,s),$(n),r=!1},d(s){w(t,s),s&&c(l),n&&n.d(s),s&&c(e)}}}function fn(a){let t,l,e,r;function n(i){a[14](i)}let s={};return a[5]!==void 0&&(s.value=a[5]),l=new Ge({props:s}),ie.push(()=>oe(l,"value",n)),{c(){t=E("div"),b(l.$$.fragment),this.h()},l(i){t=I(i,"DIV",{slot:!0});var o=D(t);v(l.$$.fragment,o),o.forEach(c),this.h()},h(){y(t,"slot","right")},m(i,o){_(i,t,o),k(l,t,null),r=!0},p(i,o){const f={};!e&&o&32&&(e=!0,f.value=i[5],fe(()=>e=!1)),l.$set(f)},i(i){r||(m(l.$$.fragment,i),r=!0)},o(i){$(l.$$.fragment,i),r=!1},d(i){i&&c(t),w(l)}}}function Dt(a){let t,l,e,r;return t=new ce({props:{bg:"transparent",title:"Compare Value",className:"p-0",$$slots:{right:[mn]},$$scope:{ctx:a}}}),e=new ce({props:{bg:"transparent",className:"px-0 pt-2",$$slots:{right:[pn],left:[$n]},$$scope:{ctx:a}}}),{c(){b(t.$$.fragment),l=j(),b(e.$$.fragment)},l(n){v(t.$$.fragment,n),l=L(n),v(e.$$.fragment,n)},m(n,s){k(t,n,s),_(n,l,s),k(e,n,s),r=!0},p(n,s){const i={};s&33554437&&(i.$$scope={dirty:s,ctx:n}),t.$set(i);const o={};s&33554433&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){r||(m(t.$$.fragment,n),m(e.$$.fragment,n),r=!0)},o(n){$(t.$$.fragment,n),$(e.$$.fragment,n),r=!1},d(n){w(t,n),n&&c(l),w(e,n)}}}function Et(a){let t,l;return t=new de({props:{name:"addOutline",className:"fill-inverse-2"}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function un(a){let t,l,e=a[0].element.type=="tracker"&&Et();return{c(){e&&e.c(),t=W()},l(r){e&&e.l(r),t=W()},m(r,n){e&&e.m(r,n),_(r,t,n),l=!0},p(r,n){r[0].element.type=="tracker"?e?n&1&&m(e,1):(e=Et(),e.c(),m(e,1),e.m(t.parentNode,t)):e&&(M(),$(e,1,1,()=>{e=null}),U())},i(r){l||(m(e),l=!0)},o(r){$(e),l=!1},d(r){e&&e.d(r),r&&c(t)}}}function cn(a){let t,l,e;return l=new ue({props:{icon:!0,className:"mr-2",$$slots:{default:[un]},$$scope:{ctx:a}}}),l.$on("click",a[15]),{c(){t=E("div"),b(l.$$.fragment),this.h()},l(r){t=I(r,"DIV",{slot:!0});var n=D(t);v(l.$$.fragment,n),n.forEach(c),this.h()},h(){y(t,"slot","right")},m(r,n){_(r,t,n),k(l,t,null),e=!0},p(r,n){const s={};n&33554433&&(s.$$scope={dirty:n,ctx:r}),l.$set(s)},i(r){e||(m(l.$$.fragment,r),e=!0)},o(r){$(l.$$.fragment,r),e=!1},d(r){r&&c(t),w(l)}}}function mn(a){let t,l,e,r;function n(i){a[16](i)}let s={pattern:"[0-9]*",inputmode:"numeric",placeholder:a[2]=="value"?"Value":a[2]=="last-used"?"Days":"Value",style:"max-width:140px;",$$slots:{right:[cn]},$$scope:{ctx:a}};return a[0].compareValue!==void 0&&(s.value=a[0].compareValue),l=new ge({props:s}),ie.push(()=>oe(l,"value",n)),{c(){t=E("div"),b(l.$$.fragment),this.h()},l(i){t=I(i,"DIV",{slot:!0});var o=D(t);v(l.$$.fragment,o),o.forEach(c),this.h()},h(){y(t,"slot","right")},m(i,o){_(i,t,o),k(l,t,null),r=!0},p(i,o){const f={};o&4&&(f.placeholder=i[2]=="value"?"Value":i[2]=="last-used"?"Days":"Value"),o&33554433&&(f.$$scope={dirty:o,ctx:i}),!e&&o&1&&(e=!0,f.value=i[0].compareValue,fe(()=>e=!1)),l.$set(f)},i(i){r||(m(l.$$.fragment,i),r=!0)},o(i){$(l.$$.fragment,i),r=!1},d(i){i&&c(t),w(l)}}}function dn(a){let t=q.t("dashboard.widget-under-value-color","Under value color")+"",l;return{c(){l=T(t)},l(e){l=z(e,t)},m(e,r){_(e,l,r)},p:C,d(e){e&&c(l)}}}function $n(a){let t,l,e,r,n,s;return e=new re({props:{className:"mb-2",size:"sm",$$slots:{default:[dn]},$$scope:{ctx:a}}}),n=new gt({props:{size:16,value:a[0].compareUnderColor}}),n.$on("change",a[18]),{c(){t=E("div"),l=E("div"),b(e.$$.fragment),r=j(),b(n.$$.fragment),this.h()},l(i){t=I(i,"DIV",{class:!0,slot:!0});var o=D(t);l=I(o,"DIV",{class:!0});var f=D(l);v(e.$$.fragment,f),r=L(f),v(n.$$.fragment,f),f.forEach(c),o.forEach(c),this.h()},h(){y(l,"class","text-center"),y(t,"class","under"),y(t,"slot","left")},m(i,o){_(i,t,o),V(t,l),k(e,l,null),V(l,r),k(n,l,null),s=!0},p(i,o){const f={};o&33554432&&(f.$$scope={dirty:o,ctx:i}),e.$set(f);const u={};o&1&&(u.value=i[0].compareUnderColor),n.$set(u)},i(i){s||(m(e.$$.fragment,i),m(n.$$.fragment,i),s=!0)},o(i){$(e.$$.fragment,i),$(n.$$.fragment,i),s=!1},d(i){i&&c(t),w(e),w(n)}}}function _n(a){let t=q.t("dashboard.widget-over-value-color","Over value color")+"",l;return{c(){l=T(t)},l(e){l=z(e,t)},m(e,r){_(e,l,r)},p:C,d(e){e&&c(l)}}}function pn(a){let t,l,e,r,n,s;return e=new re({props:{className:"mb-2",size:"sm",$$slots:{default:[_n]},$$scope:{ctx:a}}}),n=new gt({props:{size:16,value:a[0].compareOverColor}}),n.$on("change",a[17]),{c(){t=E("div"),l=E("div"),b(e.$$.fragment),r=j(),b(n.$$.fragment),this.h()},l(i){t=I(i,"DIV",{class:!0,slot:!0});var o=D(t);l=I(o,"DIV",{class:!0});var f=D(l);v(e.$$.fragment,f),r=L(f),v(n.$$.fragment,f),f.forEach(c),o.forEach(c),this.h()},h(){y(l,"class","text-center"),y(t,"class","over"),y(t,"slot","right")},m(i,o){_(i,t,o),V(t,l),k(e,l,null),V(l,r),k(n,l,null),s=!0},p(i,o){const f={};o&33554432&&(f.$$scope={dirty:o,ctx:i}),e.$set(f);const u={};o&1&&(u.value=i[0].compareOverColor),n.$set(u)},i(i){s||(m(e.$$.fragment,i),m(n.$$.fragment,i),s=!0)},o(i){$(e.$$.fragment,i),$(n.$$.fragment,i),s=!1},d(i){i&&c(t),w(e),w(n)}}}function It(a){let t,l;return t=new ce({props:{clickable:!0,delay:0,className:"px-2 trackable-item",title:`${a[0].element?"":"\u26A0\uFE0F "} ${q.t("general.trackable-item","Trackable Item")}`,$$slots:{right:[vn]},$$scope:{ctx:a}}}),t.$on("click",a[7]),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&1&&(n.title=`${e[0].element?"":"\u26A0\uFE0F "} ${q.t("general.trackable-item","Trackable Item")}`),r&33554433&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function gn(a){let t,l;return t=new re({props:{className:"text-primary-500",$$slots:{default:[bn]},$$scope:{ctx:a}}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&33554432&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function hn(a){let t,l;return t=new We({props:{truncate:!0,sm:!0,element:a[0].element,className:"px-4"}}),t.$on("click",a[7]),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&1&&(n.element=e[0].element),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function bn(a){let t=q.t("general.select")+"",l,e;return{c(){l=T(t),e=T("...")},l(r){l=z(r,t),e=z(r,"...")},m(r,n){_(r,l,n),_(r,e,n)},p:C,d(r){r&&c(l),r&&c(e)}}}function vn(a){let t,l,e,r;const n=[hn,gn],s=[];function i(o,f){return o[0].element?0:1}return l=i(a),e=s[l]=n[l](a),{c(){t=E("div"),e.c(),this.h()},l(o){t=I(o,"DIV",{slot:!0});var f=D(t);e.l(f),f.forEach(c),this.h()},h(){y(t,"slot","right")},m(o,f){_(o,t,f),s[l].m(t,null),r=!0},p(o,f){let u=l;l=i(o),l===u?s[l].p(o,f):(M(),$(s[u],1,1,()=>{s[u]=null}),U(),e=s[l],e?e.p(o,f):(e=s[l]=n[l](o),e.c()),m(e,1),e.m(t,null))},i(o){r||(m(e),r=!0)},o(o){$(e),r=!1},d(o){o&&c(t),s[l].d()}}}function Nt(a){let t,l;return t=new ce({props:{className:"p-0",bg:"transparent",$$slots:{default:[kn]},$$scope:{ctx:a}}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&33554433&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function kn(a){let t,l,e;function r(s){a[10](s)}let n={placeholder:"Message",type:"textarea",rows:2};return a[0].description!==void 0&&(n.value=a[0].description),t=new ge({props:n}),ie.push(()=>oe(t,"value",r)),{c(){b(t.$$.fragment)},l(s){v(t.$$.fragment,s)},m(s,i){k(t,s,i),e=!0},p(s,i){const o={};!l&&i&1&&(l=!0,o.value=s[0].description,fe(()=>l=!1)),t.$set(o)},i(s){e||(m(t.$$.fragment,s),e=!0)},o(s){$(t.$$.fragment,s),e=!1},d(s){w(t,s)}}}function Vt(a){let t,l;return t=new ce({props:{className:"p-0",bg:"transparent",$$slots:{default:[yn]},$$scope:{ctx:a}}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&33554434&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Ot(a){let t,l=a[20].label+"",e,r;return{c(){t=E("option"),e=T(l),this.h()},l(n){t=I(n,"OPTION",{});var s=D(t);e=z(s,l),s.forEach(c),this.h()},h(){t.__value=r=a[20].id,t.value=t.__value},m(n,s){_(n,t,s),V(t,e)},p:C,d(n){n&&c(t)}}}function wn(a){let t,l,e,r,n=Ce,s=[];for(let i=0;i<n.length;i+=1)s[i]=Ot(ht(a,n,i));return{c(){t=E("option"),l=T("Select"),e=j();for(let i=0;i<s.length;i+=1)s[i].c();r=W(),this.h()},l(i){t=I(i,"OPTION",{});var o=D(t);l=z(o,"Select"),o.forEach(c),e=L(i);for(let f=0;f<s.length;f+=1)s[f].l(i);r=W(),this.h()},h(){t.__value="Select",t.value=t.__value},m(i,o){_(i,t,o),V(t,l),_(i,e,o);for(let f=0;f<s.length;f+=1)s[f].m(i,o);_(i,r,o)},p(i,o){if(o&0){n=Ce;let f;for(f=0;f<n.length;f+=1){const u=ht(i,n,f);s[f]?s[f].p(u,o):(s[f]=Ot(u),s[f].c(),s[f].m(r.parentNode,r))}for(;f<s.length;f+=1)s[f].d(1);s.length=n.length}},d(i){i&&c(t),i&&c(e),ye(s,i),i&&c(r)}}}function yn(a){let t,l,e;function r(s){a[11](s)}let n={type:"select",label:"Timeframe",$$slots:{default:[wn]},$$scope:{ctx:a}};return a[1]!==void 0&&(n.value=a[1]),t=new ge({props:n}),ie.push(()=>oe(t,"value",r)),{c(){b(t.$$.fragment)},l(s){v(t.$$.fragment,s)},m(s,i){k(t,s,i),e=!0},p(s,i){const o={};i&33554432&&(o.$$scope={dirty:i,ctx:s}),!l&&i&2&&(l=!0,o.value=s[1],fe(()=>l=!1)),t.$set(o)},i(s){e||(m(t.$$.fragment,s),e=!0)},o(s){$(t.$$.fragment,s),e=!1},d(s){w(t,s)}}}function Tt(a){let t,l;return t=new ce({props:{bg:"transparent",title:"Include Average",className:"p-0",$$slots:{right:[Dn]},$$scope:{ctx:a}}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r&33554433&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Dn(a){let t,l,e,r;function n(i){a[12](i)}let s={};return a[0].includeAvg!==void 0&&(s.value=a[0].includeAvg),l=new Ge({props:s}),ie.push(()=>oe(l,"value",n)),{c(){t=E("div"),b(l.$$.fragment),this.h()},l(i){t=I(i,"DIV",{slot:!0});var o=D(t);v(l.$$.fragment,o),o.forEach(c),this.h()},h(){y(t,"slot","right")},m(i,o){_(i,t,o),k(l,t,null),r=!0},p(i,o){const f={};!e&&o&1&&(e=!0,f.value=i[0].includeAvg,fe(()=>e=!1)),l.$set(f)},i(i){r||(m(l.$$.fragment,i),r=!0)},o(i){$(l.$$.fragment,i),r=!1},d(i){i&&c(t),w(l)}}}function En(a){let t,l,e,r,n,s,i;function o(p){a[9](p)}let f={type:"select",placeholder:"Widget",$$slots:{default:[rn]},$$scope:{ctx:a}};a[2]!==void 0&&(f.value=a[2]),e=new ge({props:f}),ie.push(()=>oe(e,"value",o));let u=a[2]&&kt(a),d=a[2]&&wt(a);return{c(){t=E("div"),l=E("div"),b(e.$$.fragment),n=j(),u&&u.c(),s=j(),d&&d.c(),this.h()},l(p){t=I(p,"DIV",{class:!0});var h=D(t);l=I(h,"DIV",{class:!0});var N=D(l);v(e.$$.fragment,N),n=L(N),u&&u.l(N),N.forEach(c),s=L(h),d&&d.l(h),h.forEach(c),this.h()},h(){y(l,"class","p-2 widget-top  svelte-1bb86qn"),y(t,"class","dashboard-widget-editor")},m(p,h){_(p,t,h),V(t,l),k(e,l,null),V(l,n),u&&u.m(l,null),V(t,s),d&&d.m(t,null),i=!0},p(p,[h]){const N={};h&33554432&&(N.$$scope={dirty:h,ctx:p}),!r&&h&4&&(r=!0,N.value=p[2],fe(()=>r=!1)),e.$set(N),p[2]?u?(u.p(p,h),h&4&&m(u,1)):(u=kt(p),u.c(),m(u,1),u.m(l,null)):u&&(M(),$(u,1,1,()=>{u=null}),U()),p[2]?d?(d.p(p,h),h&4&&m(d,1)):(d=wt(p),d.c(),m(d,1),d.m(t,null)):d&&(M(),$(d,1,1,()=>{d=null}),U())},i(p){i||(m(e.$$.fragment,p),m(u),m(d),i=!0)},o(p){$(e.$$.fragment,p),$(u),$(d),i=!1},d(p){p&&c(t),w(e),u&&u.d(),d&&d.d()}}}function In(a,t,l){let{value:e=null}=t,r,n,s,i=!1,o="options",f=[];function u(O){l(3,o=O)}function d(){const O=(J,$e,Ie)=>({title:J,icon:Ie,click(){return Z(this,null,function*(){let pe=yield le.select($e);pe.length&&(l(0,e.element=e.element||{id:null,type:null,obj:null},e),l(0,e.element.obj=pe[0],e),l(0,e.element.type=$e,e),$e=="tracker"?l(0,e.element.id=e.element.obj.tag,e):$e=="person"?l(0,e.element.id=e.element.obj.username,e):$e=="context"?l(0,e.element.id=pe[0],e):console.error("Fit for other types",pe[0]),l(0,e.element=e.element instanceof xe?e.element:new xe(e.element),e))})}});le.popmenu({title:"What type of item would you like to add?",buttons:[O("Tracker","tracker","tracker"),O("Person","person","userCircle"),O("Context","context","bulb")]})}function p(){return Z(this,null,function*(){let O;e.element.type=="tracker"?O=e.element.obj:O=new wl({tag:e.element.obj.id,type:"numeric"});const J=yield le.trackerInput(O,{value:e.compareValue,allowSave:!1});J&&J.value&&l(0,e.compareValue=J.value,e)})}De(()=>{e&&(e.timeRange&&l(1,r=e.timeRange.id),e.compareValue&&l(5,i=!0),l(2,n=e.type))});function h(O){n=O,l(2,n)}function N(O){a.$$.not_equal(e.description,O)&&(e.description=O,l(0,e),l(2,n),l(4,s),l(1,r))}function B(O){r=O,l(1,r)}function R(O){a.$$.not_equal(e.includeAvg,O)&&(e.includeAvg=O,l(0,e),l(2,n),l(4,s),l(1,r))}function Q(O){a.$$.not_equal(e.size,O)&&(e.size=O,l(0,e),l(2,n),l(4,s),l(1,r))}function me(O){i=O,l(5,i)}const F=()=>Z(this,null,function*(){p()});function A(O){a.$$.not_equal(e.compareValue,O)&&(e.compareValue=O,l(0,e),l(2,n),l(4,s),l(1,r))}const H=O=>{l(0,e.compareOverColor=O.detail,e)},se=O=>{l(0,e.compareUnderColor=O.detail,e)};return a.$$set=O=>{"value"in O&&l(0,e=O.value)},a.$$.update=()=>{if(a.$$.dirty&20&&n&&(l(4,s=Ee.find(O=>O.id==n)),s&&(l(0,e.type=n,e),[...s.optional,...s.requires].indexOf("cond-style")==-1&&l(0,e.compareValue=void 0,e))),a.$$.dirty&3&&r){let O=Ce.find(J=>J.id==r);l(0,e.timeRange=new vl(O),e),(e.timeRange.id=="today"||e.timeRange.id=="yesterday")&&l(0,e.includeAvg=!1,e)}a.$$.dirty&9&&e&&l(6,f=[{label:`${q.t("general.setup","Setup")}`,active:o==="options",click(){u("options")}},{label:`${q.t("general.style","Style")}`,active:o==="style",click(){u("style")}}])},[e,r,n,o,s,i,f,d,p,h,N,B,R,Q,me,F,A,H,se]}class Nn extends x{constructor(t){super();ee(this,t,In,En,te,{value:0})}}function zt(a,t,l){const e=a.slice();return e[45]=t[l],e}function St(a,t,l){const e=a.slice();return e[42]=t[l],e[44]=l,e}function Vn(a){let t,l,e,r,n;return l=new Qe({props:{size:18}}),r=new re({props:{size:"sm",style:"margin-left:10px;",$$slots:{default:[Tn]},$$scope:{ctx:a}}}),{c(){t=E("div"),b(l.$$.fragment),e=j(),b(r.$$.fragment),this.h()},l(s){t=I(s,"DIV",{class:!0});var i=D(t);v(l.$$.fragment,i),e=L(i),v(r.$$.fragment,i),i.forEach(c),this.h()},h(){y(t,"class","n-panel center-all")},m(s,i){_(s,t,i),k(l,t,null),V(t,e),k(r,t,null),n=!0},p(s,i){const o={};i[1]&262144&&(o.$$scope={dirty:i,ctx:s}),r.$set(o)},i(s){n||(m(l.$$.fragment,s),m(r.$$.fragment,s),n=!0)},o(s){$(l.$$.fragment,s),$(r.$$.fragment,s),n=!1},d(s){s&&c(t),w(l),w(r)}}}function On(a){let t,l;return t=new tt({props:{size:"lg",className:" h-100",$$slots:{default:[Hn]},$$scope:{ctx:a}}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r[0]&363|r[1]&262144&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Tn(a){let t;return{c(){t=T("Loading...")},l(l){t=z(l,"Loading...")},m(l,e){_(l,t,e)},d(l){l&&c(t)}}}function Wt(a){let t,l,e,r,n,s,i,o;function f(d){a[20](d)}let u={type:"text",placeholder:"Dashboard Label"};return a[6].label!==void 0&&(u.value=a[6].label),l=new ge({props:u}),ie.push(()=>oe(l,"value",f)),n=new ue({props:{color:"clear",text:!0,className:"text-primary-bright",$$slots:{default:[zn]},$$scope:{ctx:a}}}),n.$on("click",a[15]),{c(){t=E("div"),b(l.$$.fragment),r=j(),b(n.$$.fragment),s=j(),i=E("hr"),this.h()},l(d){t=I(d,"DIV",{class:!0});var p=D(t);v(l.$$.fragment,p),r=L(p),v(n.$$.fragment,p),p.forEach(c),s=L(d),i=I(d,"HR",{class:!0}),this.h()},h(){y(t,"class","flex px-2 mt-2 mb-2 n-toolbar"),y(i,"class","my-3 divider center")},m(d,p){_(d,t,p),k(l,t,null),V(t,r),k(n,t,null),_(d,s,p),_(d,i,p),o=!0},p(d,p){const h={};!e&&p[0]&64&&(e=!0,h.value=d[6].label,fe(()=>e=!1)),l.$set(h);const N={};p[0]&32|p[1]&262144&&(N.$$scope={dirty:p,ctx:d}),n.$set(N)},i(d){o||(m(l.$$.fragment,d),m(n.$$.fragment,d),o=!0)},o(d){$(l.$$.fragment,d),$(n.$$.fragment,d),o=!1},d(d){d&&c(t),w(l),w(n),d&&c(s),d&&c(i)}}}function zn(a){let t=(a[5]?q.t("general.done","Done"):q.t("general.edit","Edit"))+"",l;return{c(){l=T(t)},l(e){l=z(e,t)},m(e,r){_(e,l,r)},p(e,r){r[0]&32&&t!==(t=(e[5]?q.t("general.done","Done"):q.t("general.edit","Edit"))+"")&&K(l,t)},d(e){e&&c(l)}}}function Sn(a){let t,l,e;return l=new re({props:{size:"sm",faded:!0,$$slots:{default:[jn]},$$scope:{ctx:a}}}),{c(){t=E("div"),b(l.$$.fragment),this.h()},l(r){t=I(r,"DIV",{class:!0});var n=D(t);v(l.$$.fragment,n),n.forEach(c),this.h()},h(){y(t,"class","p-4 mt-4 text-center")},m(r,n){_(r,t,n),k(l,t,null),e=!0},p(r,n){const s={};n[1]&262144&&(s.$$scope={dirty:n,ctx:r}),l.$set(s)},i(r){e||(m(l.$$.fragment,r),e=!0)},o(r){$(l.$$.fragment,r),e=!1},d(r){r&&c(t),w(l)}}}function Wn(a){let t,l;return t=new jl({props:{items:a[6].widgets||[],handle:".menu-handle",key:"id",$$slots:{default:[Pn,({item:e})=>({48:e}),({item:e})=>[0,e?131072:0]]},$$scope:{ctx:a}}}),t.$on("update",a[24]),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r[0]&64&&(n.items=e[6].widgets||[]),r[1]&393216&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Cn(a){let t,l,e,r,n;t=new ql({props:{$$slots:{default:[Yn]},$$scope:{ctx:a}}}),t.$on("left",G.next),t.$on("right",G.previous);let s=a[6]&&a[6].widgets&&a[6].widgets.length&&Mt(a);return{c(){b(t.$$.fragment),l=j(),s&&s.c(),e=j(),r=E("div"),this.h()},l(i){v(t.$$.fragment,i),l=L(i),s&&s.l(i),e=L(i),r=I(i,"DIV",{class:!0}),D(r).forEach(c),this.h()},h(){y(r,"class","p-2 mt-3")},m(i,o){k(t,i,o),_(i,l,o),s&&s.m(i,o),_(i,e,o),_(i,r,o),n=!0},p(i,o){const f={};o[0]&67|o[1]&262144&&(f.$$scope={dirty:o,ctx:i}),t.$set(f),i[6]&&i[6].widgets&&i[6].widgets.length?s?(s.p(i,o),o[0]&64&&m(s,1)):(s=Mt(i),s.c(),m(s,1),s.m(e.parentNode,e)):s&&(M(),$(s,1,1,()=>{s=null}),U())},i(i){n||(m(t.$$.fragment,i),m(s),n=!0)},o(i){$(t.$$.fragment,i),$(s),n=!1},d(i){w(t,i),i&&c(l),s&&s.d(i),i&&c(e),i&&c(r)}}}function jn(a){let t=q.t("general.loading","Loading")+"",l,e;return{c(){l=T(t),e=T("...")},l(r){l=z(r,t),e=z(r,"...")},m(r,n){_(r,l,n),_(r,e,n)},p:C,d(r){r&&c(l),r&&c(e)}}}function Ln(a){let t,l;return t=new We({props:{xs:!0,truncate:!0,novalue:!0,element:a[48].element}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r[1]&131072&&(n.element=e[48].element),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function qn(a){let t,l;return t=new re({props:{size:"md",truncate:!0,$$slots:{default:[Mn]},$$scope:{ctx:a}}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r[1]&393216&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Mn(a){let t=a[48].description+"",l;return{c(){l=T(t)},l(e){l=z(e,t)},m(e,r){_(e,l,r)},p(e,r){r[1]&131072&&t!==(t=e[48].description+"")&&K(l,t)},d(e){e&&c(l)}}}function Un(a){let t,l,e,r;const n=[qn,Ln],s=[];function i(o,f){return o[48].type=="text"?0:1}return t=i(a),l=s[t]=n[t](a),{c(){l.c(),e=W()},l(o){l.l(o),e=W()},m(o,f){s[t].m(o,f),_(o,e,f),r=!0},p(o,f){let u=t;t=i(o),t===u?s[t].p(o,f):(M(),$(s[u],1,1,()=>{s[u]=null}),U(),l=s[t],l?l.p(o,f):(l=s[t]=n[t](o),l.c()),m(l,1),l.m(e.parentNode,e))},i(o){r||(m(l),r=!0)},o(o){$(l),r=!1},d(o){s[t].d(o),o&&c(e)}}}function An(a){let t,l;return t=new de({props:{name:"delete"}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p:C,i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Rn(a){let t,l,e;function r(){return a[23](a[48])}return l=new ue({props:{icon:!0,color:"clear",$$slots:{default:[An]},$$scope:{ctx:a}}}),l.$on("click",r),{c(){t=E("div"),b(l.$$.fragment),this.h()},l(n){t=I(n,"DIV",{slot:!0});var s=D(t);v(l.$$.fragment,s),s.forEach(c),this.h()},h(){y(t,"slot","left")},m(n,s){_(n,t,s),k(l,t,null),e=!0},p(n,s){a=n;const i={};s[1]&262144&&(i.$$scope={dirty:s,ctx:a}),l.$set(i)},i(n){e||(m(l.$$.fragment,n),e=!0)},o(n){$(l.$$.fragment,n),e=!1},d(n){n&&c(t),w(l)}}}function Ct(a){let t=a[48].timeRange.getLabel()+"",l;return{c(){l=T(t)},l(e){l=z(e,t)},m(e,r){_(e,l,r)},p(e,r){r[1]&131072&&t!==(t=e[48].timeRange.getLabel()+"")&&K(l,t)},d(e){e&&c(l)}}}function Fn(a){let t,l,e,r,n,s=a[48].timeRange&&Ct(a);return r=new de({props:{name:"menu"}}),{c(){t=E("div"),s&&s.c(),l=j(),e=E("div"),b(r.$$.fragment),this.h()},l(i){t=I(i,"DIV",{slot:!0,class:!0});var o=D(t);s&&s.l(o),l=L(o),e=I(o,"DIV",{class:!0});var f=D(e);v(r.$$.fragment,f),f.forEach(c),o.forEach(c),this.h()},h(){y(e,"class","menu-handle"),y(t,"slot","right"),y(t,"class","pr-2 text-sm text-faded-2")},m(i,o){_(i,t,o),s&&s.m(t,null),V(t,l),V(t,e),k(r,e,null),n=!0},p(i,o){i[48].timeRange?s?s.p(i,o):(s=Ct(i),s.c(),s.m(t,l)):s&&(s.d(1),s=null)},i(i){n||(m(r.$$.fragment,i),n=!0)},o(i){$(r.$$.fragment,i),n=!1},d(i){i&&c(t),s&&s.d(),w(r)}}}function Pn(a){let t,l;return t=new ce({props:{solo:!0,className:"pb-2",$$slots:{right:[Fn],left:[Rn],default:[Un]},$$scope:{ctx:a}}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r[1]&393216&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function jt(a){let t,l=[],e=new Map,r,n,s=a[6].widgets.length==0&&Lt(a),i=a[6].widgets;const o=f=>f[45].id;for(let f=0;f<i.length;f+=1){let u=zt(a,i,f),d=o(u);e.set(d,l[f]=qt(d,u))}return{c(){s&&s.c(),t=j();for(let f=0;f<l.length;f+=1)l[f].c();r=W()},l(f){s&&s.l(f),t=L(f);for(let u=0;u<l.length;u+=1)l[u].l(f);r=W()},m(f,u){s&&s.m(f,u),_(f,t,u);for(let d=0;d<l.length;d+=1)l[d].m(f,u);_(f,r,u),n=!0},p(f,u){f[6].widgets.length==0?s?(s.p(f,u),u[0]&64&&m(s,1)):(s=Lt(f),s.c(),m(s,1),s.m(t.parentNode,t)):s&&(M(),$(s,1,1,()=>{s=null}),U()),u[0]&67648&&(i=f[6].widgets,M(),l=Je(l,u,o,1,f,i,e,r.parentNode,cl,qt,r,zt),U())},i(f){if(!n){m(s);for(let u=0;u<i.length;u+=1)m(l[u]);n=!0}},o(f){$(s);for(let u=0;u<l.length;u+=1)$(l[u]);n=!1},d(f){s&&s.d(f),f&&c(t);for(let u=0;u<l.length;u+=1)l[u].d(f);f&&c(r)}}}function Lt(a){let t,l;return t=new Ll({props:{emoji:"\u{1F4B9}",title:q.t("general.dashboard","Dashboard"),description:q.t("dashboard.empty-message","Mix and match charts, stats, and other widgets to create your own custom views of your life."),buttonLabel:q.t("dashboard.add-a-widget","Add a Widget..."),buttonClick:a[10]}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p:C,i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function qt(a,t){let l,e,r;function n(){return t[22](t[45])}return e=new Kr({props:{widget:t[45]}}),e.$on("action",t[21]),e.$on("edit",n),{key:a,first:null,c(){l=W(),b(e.$$.fragment),this.h()},l(s){l=W(),v(e.$$.fragment,s),this.h()},h(){this.first=l},m(s,i){_(s,l,i),k(e,s,i),r=!0},p(s,i){t=s;const o={};i[0]&64&&(o.widget=t[45]),e.$set(o)},i(s){r||(m(e.$$.fragment,s),r=!0)},o(s){$(e.$$.fragment,s),r=!1},d(s){s&&c(l),w(e,s)}}}function Yn(a){let t,l,e,r,n=a[1]&&a[0]&&jt(a);return{c(){t=E("div"),n&&n.c(),this.h()},l(s){t=I(s,"DIV",{class:!0});var i=D(t);n&&n.l(i),i.forEach(c),this.h()},h(){y(t,"class","grid grid-flow-row grid-cols-4 gap-2 p-4 md:gap-4 md:p-4 lg:p-6 lg:gap-6 lg:grid-cols-8")},m(s,i){_(s,t,i),n&&n.m(t,null),l=!0,e||(r=[ke(t,"swipeleft",G.next),ke(t,"swiperight",G.previous)],e=!0)},p(s,i){s[1]&&s[0]?n?(n.p(s,i),i[0]&3&&m(n,1)):(n=jt(s),n.c(),m(n,1),n.m(t,null)):n&&(M(),$(n,1,1,()=>{n=null}),U())},i(s){l||(m(n),l=!0)},o(s){$(n),l=!1},d(s){s&&c(t),n&&n.d(),e=!1,ml(r)}}}function Mt(a){let t,l,e;return l=new ue({props:{size:"sm",color:"transparent",className:"mt-4 text-primary-bright",$$slots:{default:[Bn]},$$scope:{ctx:a}}}),l.$on("click",a[10]),{c(){t=E("div"),b(l.$$.fragment),this.h()},l(r){t=I(r,"DIV",{class:!0});var n=D(t);v(l.$$.fragment,n),n.forEach(c),this.h()},h(){y(t,"class","mb-2 board-actions filler")},m(r,n){_(r,t,n),k(l,t,null),e=!0},p(r,n){const s={};n[1]&262144&&(s.$$scope={dirty:n,ctx:r}),l.$set(s)},i(r){e||(m(l.$$.fragment,r),e=!0)},o(r){$(l.$$.fragment,r),e=!1},d(r){r&&c(t),w(l)}}}function Bn(a){let t=q.t("dashboard.add-a-widget","Add a Widget...")+"",l;return{c(){l=T(t)},l(e){l=z(e,t)},m(e,r){_(e,l,r)},p:C,d(e){e&&c(l)}}}function Hn(a){let t,l,e,r,n,s=a[5]&&Wt(a);const i=[Cn,Wn,Sn],o=[];function f(u,d){return!u[5]&&u[6]&&u[6].widgets?0:u[3]?1:2}return l=f(a),e=o[l]=i[l](a),{c(){s&&s.c(),t=j(),e.c(),r=W()},l(u){s&&s.l(u),t=L(u),e.l(u),r=W()},m(u,d){s&&s.m(u,d),_(u,t,d),o[l].m(u,d),_(u,r,d),n=!0},p(u,d){u[5]?s?(s.p(u,d),d[0]&32&&m(s,1)):(s=Wt(u),s.c(),m(s,1),s.m(t.parentNode,t)):s&&(M(),$(s,1,1,()=>{s=null}),U());let p=l;l=f(u),l===p?o[l].p(u,d):(M(),$(o[p],1,1,()=>{o[p]=null}),U(),e=o[l],e?e.p(u,d):(e=o[l]=i[l](u),e.c()),m(e,1),e.m(r.parentNode,r))},i(u){n||(m(s),m(e),n=!0)},o(u){$(s),$(e),n=!1},d(u){s&&s.d(u),u&&c(t),o[l].d(u),u&&c(r)}}}function Xn(a){let t,l,e,r;const n=[On,Vn],s=[];function i(o,f){return o[6]&&!o[7]?0:1}return t=i(a),l=s[t]=n[t](a),{c(){l.c(),e=W()},l(o){l.l(o),e=W()},m(o,f){s[t].m(o,f),_(o,e,f),r=!0},p(o,f){let u=t;t=i(o),t===u?s[t].p(o,f):(M(),$(s[u],1,1,()=>{s[u]=null}),U(),l=s[t],l?l.p(o,f):(l=s[t]=n[t](o),l.c()),m(l,1),l.m(e.parentNode,e))},i(o){r||(m(l),r=!0)},o(o){$(l),r=!1},d(o){s[t].d(o),o&&c(e)}}}function Zn(a){let t,l;return t=new de({props:{name:"search",size:24}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p:C,i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Ut(a,t){let l,e=rt(t[42].label,12)+"",r,n,s,i,o;function f(){return t[19](t[44])}return{key:a,first:null,c(){l=E("button"),r=T(e),n=j(),this.h()},l(u){l=I(u,"BUTTON",{class:!0});var d=D(l);r=z(d,e),n=L(d),d.forEach(c),this.h()},h(){y(l,"class",s="tab board-"+t[42].id+" truncate-1 "+(t[44]==t[8].activeIndex?"selected":"inactive opacity-80")),this.first=l},m(u,d){_(u,l,d),V(l,r),V(l,n),i||(o=ke(l,"click",f),i=!0)},p(u,d){t=u,d[0]&4&&e!==(e=rt(t[42].label,12)+"")&&K(r,e),d[0]&260&&s!==(s="tab board-"+t[42].id+" truncate-1 "+(t[44]==t[8].activeIndex?"selected":"inactive opacity-80"))&&y(l,"class",s)},d(u){u&&c(l),i=!1,o()}}}function Jn(a){let t=[],l=new Map,e,r=a[2]||[];const n=s=>s[42].id;for(let s=0;s<r.length;s+=1){let i=St(a,r,s),o=n(i);l.set(o,t[s]=Ut(o,i))}return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=W()},l(s){for(let i=0;i<t.length;i+=1)t[i].l(s);e=W()},m(s,i){for(let o=0;o<t.length;o+=1)t[o].m(s,i);_(s,e,i)},p(s,i){i[0]&260&&(r=s[2]||[],t=Je(t,i,n,1,s,r,l,e.parentNode,ul,Ut,e,St))},d(s){for(let i=0;i<t.length;i+=1)t[i].d(s);s&&c(e)}}}function Kn(a){let t,l;return t=new de({props:{name:"settings"}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p:C,i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function Qn(a){let t,l,e,r,n,s;return t=new ue({props:{color:"none",shape:"round",className:"tap-icon",$$slots:{default:[Zn]},$$scope:{ctx:a}}}),t.$on("click",a[18]),e=new zl({props:{centerIfPossible:!0,activeIndex:a[8].activeIndex,className:"n-board-tabs",wrapperClass:"space-x-4",$$slots:{default:[Jn]},$$scope:{ctx:a}}}),n=new ue({props:{icon:!0,className:"tap-icon",$$slots:{default:[Kn]},$$scope:{ctx:a}}}),n.$on("click",a[12]),{c(){b(t.$$.fragment),l=j(),b(e.$$.fragment),r=j(),b(n.$$.fragment)},l(i){v(t.$$.fragment,i),l=L(i),v(e.$$.fragment,i),r=L(i),v(n.$$.fragment,i)},m(i,o){k(t,i,o),_(i,l,o),k(e,i,o),_(i,r,o),k(n,i,o),s=!0},p(i,o){const f={};o[1]&262144&&(f.$$scope={dirty:o,ctx:i}),t.$set(f);const u={};o[0]&256&&(u.activeIndex=i[8].activeIndex),o[0]&260|o[1]&262144&&(u.$$scope={dirty:o,ctx:i}),e.$set(u);const d={};o[1]&262144&&(d.$$scope={dirty:o,ctx:i}),n.$set(d)},i(i){s||(m(t.$$.fragment,i),m(e.$$.fragment,i),m(n.$$.fragment,i),s=!0)},o(i){$(t.$$.fragment,i),$(e.$$.fragment,i),$(n.$$.fragment,i),s=!1},d(i){w(t,i),i&&c(l),w(e,i),i&&c(r),w(n,i)}}}function Gn(a){let t,l;return t=new Ol({props:{$$slots:{default:[Qn]},$$scope:{ctx:a}}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r[0]&260|r[1]&262144&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function xn(a){let t,l,e;return l=new tt({props:{$$slots:{default:[Gn]},$$scope:{ctx:a}}}),{c(){t=E("header"),b(l.$$.fragment),this.h()},l(r){t=I(r,"HEADER",{slot:!0});var n=D(t);v(l.$$.fragment,n),n.forEach(c),this.h()},h(){y(t,"slot","header")},m(r,n){_(r,t,n),k(l,t,null),e=!0},p(r,n){const s={};n[0]&260|n[1]&262144&&(s.$$scope={dirty:n,ctx:r}),l.$set(s)},i(r){e||(m(l.$$.fragment,r),e=!0)},o(r){$(l.$$.fragment,r),e=!1},d(r){r&&c(t),w(l)}}}function At(a){let t,l,e;function r(s){a[25](s)}let n={};return a[4]!==void 0&&(n.value=a[4]),t=new Nn({props:n}),ie.push(()=>oe(t,"value",r)),t.$on("close",a[13]),{c(){b(t.$$.fragment)},l(s){v(t.$$.fragment,s)},m(s,i){k(t,s,i),e=!0},p(s,i){const o={};!l&&i[0]&16&&(l=!0,o.value=s[4],fe(()=>l=!1)),t.$set(o)},i(s){e||(m(t.$$.fragment,s),e=!0)},o(s){$(t.$$.fragment,s),e=!1},d(s){w(t,s)}}}function es(a){let t,l,e=a[4]&&At(a);return{c(){e&&e.c(),t=W()},l(r){e&&e.l(r),t=W()},m(r,n){e&&e.m(r,n),_(r,t,n),l=!0},p(r,n){r[4]?e?(e.p(r,n),n[0]&16&&m(e,1)):(e=At(r),e.c(),m(e,1),e.m(t.parentNode,t)):e&&(M(),$(e,1,1,()=>{e=null}),U())},i(r){l||(m(e),l=!0)},o(r){$(e),l=!1},d(r){e&&e.d(r),r&&c(t)}}}function ts(a){let t,l=q.t("dashboard.widget-editor","Widget Editor")+"",e;return{c(){t=E("div"),e=T(l),this.h()},l(r){t=I(r,"DIV",{class:!0});var n=D(t);e=z(n,l),n.forEach(c),this.h()},h(){y(t,"class","ntitle")},m(r,n){_(r,t,n),V(t,e)},p:C,d(r){r&&c(t)}}}function ls(a){let t;return{c(){t=T("Close")},l(l){t=z(l,"Close")},m(l,e){_(l,t,e)},d(l){l&&c(t)}}}function rs(a){let t,l;return t=new ue({props:{slot:"left",className:"text-primary-500",type:"clear",$$slots:{default:[ls]},$$scope:{ctx:a}}}),t.$on("click",a[13]),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r[1]&262144&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function ns(a){let t=`${q.t("general.save","Save")}`,l;return{c(){l=T(t)},l(e){l=z(e,t)},m(e,r){_(e,l,r)},p:C,d(e){e&&c(l)}}}function ss(a){let t=`${q.t("general.update","Update")}`,l;return{c(){l=T(t)},l(e){l=z(e,t)},m(e,r){_(e,l,r)},p:C,d(e){e&&c(l)}}}function as(a){let t;function l(n,s){return n[4]&&n[4]._editing?ss:ns}let e=l(a),r=e(a);return{c(){r.c(),t=W()},l(n){r.l(n),t=W()},m(n,s){r.m(n,s),_(n,t,s)},p(n,s){e===(e=l(n))&&r?r.p(n,s):(r.d(1),r=e(n),r&&(r.c(),r.m(t.parentNode,t)))},d(n){r.d(n),n&&c(t)}}}function is(a){let t,l;return t=new ue({props:{slot:"right",className:"text-primary-500",type:"clear",$$slots:{default:[as]},$$scope:{ctx:a}}}),t.$on("click",a[9]),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r[0]&16|r[1]&262144&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function os(a){let t,l,e;return l=new Tl({props:{className:"px-2",$$slots:{right:[is],left:[rs],default:[ts]},$$scope:{ctx:a}}}),{c(){t=E("header"),b(l.$$.fragment),this.h()},l(r){t=I(r,"HEADER",{slot:!0});var n=D(t);v(l.$$.fragment,n),n.forEach(c),this.h()},h(){y(t,"slot","header")},m(r,n){_(r,t,n),k(l,t,null),e=!0},p(r,n){const s={};n[0]&16|n[1]&262144&&(s.$$scope={dirty:n,ctx:r}),l.$set(s)},i(r){e||(m(l.$$.fragment,r),e=!0)},o(r){$(l.$$.fragment,r),e=!1},d(r){r&&c(t),w(l)}}}function fs(a){let t,l;return t=new Il({props:{$$slots:{header:[os],default:[es]},$$scope:{ctx:a}}}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p(e,r){const n={};r[0]&16|r[1]&262144&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function us(a){let t,l,e,r;return t=new yl({props:{className:"dasboard",headerClassNames:"fill-header",pageTitle:"Dashboard",showTabs:!0,$$slots:{header:[xn],default:[Xn]},$$scope:{ctx:a}}}),e=new Dl({props:{id:"widget-editor",visible:a[4]!==void 0,$$slots:{default:[fs]},$$scope:{ctx:a}}}),{c(){b(t.$$.fragment),l=j(),b(e.$$.fragment)},l(n){v(t.$$.fragment,n),l=L(n),v(e.$$.fragment,n)},m(n,s){k(t,n,s),_(n,l,s),k(e,n,s),r=!0},p(n,s){const i={};s[0]&495|s[1]&262144&&(i.$$scope={dirty:s,ctx:n}),t.$set(i);const o={};s[0]&16&&(o.visible=n[4]!==void 0),s[0]&16|s[1]&262144&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(n){r||(m(t.$$.fragment,n),m(e.$$.fragment,n),r=!0)},o(n){$(t.$$.fragment,n),$(e.$$.fragment,n),r=!1},d(n){w(t,n),n&&c(l),w(e,n)}}}function cs(a,t,l){let e,r,n;ve(a,G,g=>l(8,e=g)),ve(a,et,g=>l(31,r=g)),ve(a,Te,g=>l(17,n=g));const s=new El("\u{1F4CA} container/dashboard.svelte");let i,o,f,u,d,p,h=!1,N,B=!1,R={id:"fake",label:"Loading...",widgets:[]},Q=!1,me="1",F;function A(){l(5,B=!B)}function H(g){let S=Ee.find(P=>P.id==g.type);if(S){let P=S.requires;if(P.indexOf("element")>-1&&!g.element)throw new Error("Select a trackable element to display");if(P.indexOf("timeframe")>-1&&!g.timeRange.label)throw new Error("This widget requires a timeframe")}else throw new Error("Select a Widget Type")}function se(){return Z(this,null,function*(){if(N){try{H(N),le.blocker("Saving..."),yield G.saveWidget(N),qe()}catch(g){le.alert("Error",g.message)}le.stopBlocker()}else le.toast("Incomplete")})}function O(){return Z(this,null,function*(){l(4,N=new he)})}function J(g){g._editing=!0,l(4,N=g)}function $e(g){return Z(this,null,function*(){let S=[],P=g.getDateRange(n.meta.firstDayOfWeek),X=P[0],ae=P[1];return g.type=="streak"&&(X=Y().startOf("month"),ae=Y().endOf("month")),g.element&&g.element.type=="tracker"?S=yield we.queryTag(g.element.id,X,ae):g.element&&g.element.type=="person"?S=yield we.queryPerson(g.element.id,X,ae):g.element&&g.element.type=="context"?S=yield we.queryContext(g.element.id,X,ae):g.element&&(S=yield we.queryAll(g.element.id,X,ae)),S})}function Ie(){return Z(this,null,function*(){let g=[{title:q.t("dashboard.add-a-widget","Add a Widget..."),click:O,icon:"addOutline"},{title:`${q.t("general.edit","Edit")} ${R.label}...`,click:A,icon:"edit"},{title:`${q.t("general.delete","Delete")} ${R.label}...`,click:Ft,icon:"delete"},{title:`${q.t("dashboard.add-tab","Add new Tab...")}`,click:G.newDashboard,icon:"addTab",divider:!0}];le.popmenu({title:`${q.t("dashboard.options","Dashboard Options")}`,buttons:g})})}function pe(g){return Z(this,null,function*(){let S=g.getStartDate(me),P=g.getEndDate(me);if(g.type=="last-used"){if(g.element.type=="tracker")g.lastUsed=yield Sl.get(g.element.id);else if(g.element.type=="person"){let X=yield r.people[g.element.id];X&&(g.lastUsed=X.last)}if(g.lastUsed){let X=Y(g.lastUsed),ae=Math.abs(Y().diff(X,"day"));g.stats=g.stats||{},g.stats.daysPast=ae}}else if(g.element&&g.type!="last-used"){g.logs=yield $e(g);const X=new Wl({});g.math=g.math||(g.element.obj||{}).math||"sum";const ae=Y(S),Ue=Y(P),be=Math.abs(ae.diff(Ue,"day"));let _e="w";be<1?_e="d":be<8?_e="w":be<89?_e="m":be<365?_e="q":be>364?_e="y":_e="m";const xt={rows:g.logs,fromDate:ae,toDate:Ue,mode:_e,math:g.math,trackableElement:g.element};g.stats=X.generate(xt),g.positivity=Cl(g.logs,g.element)}return g.loading=!1,g})}function je(){return Z(this,null,function*(){const g=e.activeIndex;let S;if(f.length>g&&(S=f[e.activeIndex]),S)for(let P=0;P<S.widgets.length;P++){const X=S.widgets[P]instanceof he?S.widgets[P]:new he(S.widgets[P]);X.dateFormat=(F||{date:"MMM Do YYYY"}).date,X.timeFormat=(F||{time:"h:mma"}).time,X.loading=!0,S.widgets[P]=X}else s.error("No DBoard Found...");if(l(6,R=S||new lt),l(3,h=!0),l(7,Q=!1),R.widgets.length)for(let P=0;P<R.widgets.length;P++)l(6,R.widgets[P]=yield pe(R.widgets[P]),R)})}function Le(){l(7,Q=!0);try{l(2,f[e.activeIndex]=f[e.activeIndex]||new lt,f),l(2,f[e.activeIndex].widgets=f[e.activeIndex].widgets.map(g=>{let S=g instanceof he?g:new he(g);return S.element&&S.element.type=="tracker"?S.element.obj=Se.getByTag(S.element.id):S.element&&S.element.type=="person"&&o[S.element.id]&&(S.element.obj=o[S.element.id]),S}),f),je()}catch(g){le.alert("Error",g.message),s.error(g.message)}}function qe(){l(4,N=void 0)}function Ne(g){return Z(this,null,function*(){(yield le.confirm(`${q.t("general.remove","Remove")} ${g.getTitle()} ${q.t("general.widget","widget")}?`,"Are you sure you want to remove this widget from this dashboard?"))&&(yield G.deleteWidget(g),je())})}De(()=>{F=Te.getDateTimeFormat(),u=Se.subscribe(g=>{g.trackers&&l(0,i=g.trackers)}),p=et.subscribe(g=>{g.people&&l(1,o=g.people)}),we.hook("onLogSaved",()=>{B||Le()}),d=G.subscribe(g=>{g.dashboards&&i&&o&&(l(2,f=g.dashboards),B||Le())})});function Rt(){return Z(this,null,function*(){G.save(),A()})}function Ft(){return Z(this,null,function*(){(yield le.confirm(`Delete ${R.label} dashboard?`,"This cannot be undone, just rebuilt."))&&(yield G.delete(R))})}function Pt(g){return Z(this,null,function*(){let S=new he(g);S.id=ze(),yield G.saveWidget(S)})}function Yt(g){return Z(this,null,function*(){const S=e.dashboards.map(P=>({title:P.label,click(){try{G.moveWidget(g,P)}catch(X){le.alert("Error",X.message)}}}));le.popmenu({buttons:S,title:`${q.t("dashboard.select-dashboard-to-move-widget","Move widget to which dashboard?")}`})})}function Me(P){return Z(this,arguments,function*({type:g,widget:S}){yield Nl(200),g=="edit"?J(S):g==="move"?Yt(S):g==="delete"?Ne(S):g==="duplicate"&&Pt(S)})}fl(()=>{u(),p(),d()});const Bt=()=>Vl.view("history"),Ht=g=>{G.toIndex(g)};function Xt(g){a.$$.not_equal(R.label,g)&&(R.label=g,l(6,R))}const Zt=g=>{Me(g.detail)},Jt=g=>{J(g)},Kt=g=>Ne(g),Qt=g=>{l(6,R.widgets=g.detail,R),G.update(S=>(S.dashboards[e.activeIndex]=R,S)),G.save()};function Gt(g){N=g,l(4,N)}return a.$$.update=()=>{a.$$.dirty[0]&131072&&(me=n.meta.firstDayOfWeek)},[i,o,f,h,N,B,R,Q,e,se,O,J,Ie,qe,Ne,Rt,Me,n,Bt,Ht,Xt,Zt,Jt,Kt,Qt,Gt]}class ms extends x{constructor(t){super();ee(this,t,cs,us,te,{},null,[-1,-1])}}function ds(a){let t,l;return t=new ms({}),{c(){b(t.$$.fragment)},l(e){v(t.$$.fragment,e)},m(e,r){k(t,e,r),l=!0},p:C,i(e){l||(m(t.$$.fragment,e),l=!0)},o(e){$(t.$$.fragment,e),l=!1},d(e){w(t,e)}}}function $s(a,t,l){return[void 0,void 0,void 0]}class vs extends x{constructor(t){super();ee(this,t,$s,ds,te,{path:0,style:1,location:2})}get path(){return this.$$.ctx[0]}get style(){return this.$$.ctx[1]}get location(){return this.$$.ctx[2]}}export{vs as default};
